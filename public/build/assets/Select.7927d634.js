import{D as Q,p as L,i as A,r as _,A as U,F as G,s as j,B as ae,z as ne,E as se,G as S,I as ie,J as P,o as C,c as F,b as T,j as R,w as B,l as re,a as k,t as H,n as z,d as J,g as ue,e as de,T as ce}from"./app.86b8d295.js";import{_ as pe}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as g,u as D,A as ve,P as E,N as W,t as N,b as fe,R as K,a as x}from"./use-resolve-button-type.6bca26a6.js";import{c as be,p as me,l as M}from"./open-closed.2a417cdb.js";import{F as X,M as Y,m as xe,p as ge,w as he}from"./hidden.b2c33518.js";import{r as ye}from"./CheckIcon.726b672d.js";function Le(t){throw new Error("Unexpected object: "+t)}var y=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(y||{});function Oe(t,n){let l=n.resolveItems();if(l.length<=0)return null;let p=n.resolveActiveIndex(),e=p!=null?p:-1,v=(()=>{switch(t.focus){case 0:return l.findIndex(a=>!n.resolveDisabled(a));case 1:{let a=l.slice().reverse().findIndex((b,i,d)=>e!==-1&&d.length-i-1>=e?!1:!n.resolveDisabled(b));return a===-1?a:l.length-1-a}case 2:return l.findIndex((a,b)=>b<=e?!1:!n.resolveDisabled(a));case 3:{let a=l.slice().reverse().findIndex(b=>!n.resolveDisabled(b));return a===-1?a:l.length-1-a}case 4:return l.findIndex(a=>n.resolveId(a)===t.id);case 5:return null;default:Le(t)}})();return v===-1?p:v}function q(t,n,l){typeof window<"u"&&Q(p=>{window.addEventListener(t,n,l),p(()=>window.removeEventListener(t,n,l))})}function we(t,n,l=L(()=>!0)){function p(e,v){if(!l.value||e.defaultPrevented)return;let a=v(e);if(a===null||!a.ownerDocument.documentElement.contains(a))return;let b=function i(d){return typeof d=="function"?i(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let i of b){if(i===null)continue;let d=i instanceof HTMLElement?i:g(i);if(d!=null&&d.contains(a))return}return!X(a,Y.Loose)&&a.tabIndex!==-1&&e.preventDefault(),n(e,a)}q("click",e=>p(e,v=>v.target),!0),q("blur",e=>p(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Z(t={},n=null,l=[]){for(let[p,e]of Object.entries(t))te(l,ee(n,p),e);return l}function ee(t,n){return t?t+"["+n+"]":n}function te(t,n,l){if(Array.isArray(l))for(let[p,e]of l.entries())te(t,ee(n,p.toString()),e);else l instanceof Date?t.push([n,l.toISOString()]):typeof l=="boolean"?t.push([n,l?"1":"0"]):typeof l=="string"?t.push([n,l]):typeof l=="number"?t.push([n,`${l}`]):l==null?t.push([n,""]):Z(l,n,t)}var Se=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Se||{}),Ie=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Ie||{}),_e=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(_e||{});function Re(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let oe=Symbol("ListboxContext");function V(t){let n=se(oe,null);if(n===null){let l=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,V),l}return n}let ke=A({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean]},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:n,attrs:l,emit:p}){let e=_(1),v=_(null),a=_(null),b=_(null),i=_([]),d=_(""),o=_(null),s=_(1);function O(r=u=>u){let u=o.value!==null?i.value[o.value]:null,f=he(r(i.value.slice()),w=>g(w.dataRef.domRef)),m=u?f.indexOf(u):null;return m===-1&&(m=null),{options:f,activeOptionIndex:m}}let h=L(()=>t.modelValue),I=L(()=>t.multiple?1:0),c={listboxState:e,value:h,mode:I,compare(r,u){return r===u},orientation:L(()=>t.horizontal?"horizontal":"vertical"),labelRef:v,buttonRef:a,optionsRef:b,disabled:L(()=>t.disabled),options:i,searchQuery:d,activeOptionIndex:o,activationTrigger:s,closeListbox(){t.disabled||e.value!==1&&(e.value=1,o.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(r,u,f){if(t.disabled||e.value===1)return;let m=O(),w=Oe(r===y.Specific?{focus:y.Specific,id:u}:{focus:r},{resolveItems:()=>m.options,resolveActiveIndex:()=>m.activeOptionIndex,resolveId:$=>$.id,resolveDisabled:$=>$.dataRef.disabled});d.value="",o.value=w,s.value=f!=null?f:1,i.value=m.options},search(r){if(t.disabled||e.value===1)return;let u=d.value!==""?0:1;d.value+=r.toLowerCase();let f=(o.value!==null?i.value.slice(o.value+u).concat(i.value.slice(0,o.value+u)):i.value).find(w=>w.dataRef.textValue.startsWith(d.value)&&!w.dataRef.disabled),m=f?i.value.indexOf(f):-1;m===-1||m===o.value||(o.value=m,s.value=1)},clearSearch(){t.disabled||e.value!==1&&d.value!==""&&(d.value="")},registerOption(r,u){let f=O(m=>[...m,{id:r,dataRef:u}]);i.value=f.options,o.value=f.activeOptionIndex},unregisterOption(r){let u=O(f=>{let m=f.findIndex(w=>w.id===r);return m!==-1&&f.splice(m,1),f});i.value=u.options,o.value=u.activeOptionIndex,s.value=1},select(r){t.disabled||p("update:modelValue",D(I.value,{[0]:()=>r,[1]:()=>{let u=S(c.value.value).slice(),f=S(r),m=u.findIndex(w=>c.compare(f,S(w)));return m===-1?u.push(f):u.splice(m,1),u}}))}};return we([a,b],(r,u)=>{var f;c.closeListbox(),X(u,Y.Loose)||(r.preventDefault(),(f=g(a))==null||f.focus())},L(()=>e.value===0)),ie(oe,c),be(L(()=>D(e.value,{[0]:M.Open,[1]:M.Closed}))),()=>{let{name:r,modelValue:u,disabled:f,...m}=t,w={open:e.value===0,disabled:f};return U(G,[...r!=null&&u!=null?Z({[r]:u}).map(([$,le])=>U(xe,ve({features:ge.Hidden,key:$,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:$,value:le}))):[],E({ourProps:{},theirProps:{...l,...W(m,["onUpdate:modelValue","horizontal","multiple","by"])},slot:w,slots:n,attrs:l,name:"Listbox"})])}}}),Te=A({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(t,{attrs:n,slots:l}){let p=V("ListboxLabel"),e=`headlessui-listbox-label-${N()}`;function v(){var a;(a=g(p.buttonRef))==null||a.focus({preventScroll:!0})}return()=>{let a={open:p.listboxState.value===0,disabled:p.disabled.value},b={id:e,ref:p.labelRef,onClick:v};return E({ourProps:b,theirProps:t,slot:a,attrs:n,slots:l,name:"ListboxLabel"})}}}),Pe=A({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(t,{attrs:n,slots:l,expose:p}){let e=V("ListboxButton"),v=`headlessui-listbox-button-${N()}`;p({el:e.buttonRef,$el:e.buttonRef});function a(o){switch(o.key){case x.Space:case x.Enter:case x.ArrowDown:o.preventDefault(),e.openListbox(),P(()=>{var s;(s=g(e.optionsRef))==null||s.focus({preventScroll:!0}),e.value.value||e.goToOption(y.First)});break;case x.ArrowUp:o.preventDefault(),e.openListbox(),P(()=>{var s;(s=g(e.optionsRef))==null||s.focus({preventScroll:!0}),e.value.value||e.goToOption(y.Last)});break}}function b(o){switch(o.key){case x.Space:o.preventDefault();break}}function i(o){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),P(()=>{var s;return(s=g(e.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(o.preventDefault(),e.openListbox(),Re(()=>{var s;return(s=g(e.optionsRef))==null?void 0:s.focus({preventScroll:!0})})))}let d=fe(L(()=>({as:t.as,type:n.type})),e.buttonRef);return()=>{var o,s;let O={open:e.listboxState.value===0,disabled:e.disabled.value},h={ref:e.buttonRef,id:v,type:d.value,"aria-haspopup":!0,"aria-controls":(o=g(e.optionsRef))==null?void 0:o.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(s=g(e.labelRef))==null?void 0:s.id,v].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:a,onKeyup:b,onClick:i};return E({ourProps:h,theirProps:t,slot:O,attrs:n,slots:l,name:"ListboxButton"})}}}),De=A({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:n,slots:l,expose:p}){let e=V("ListboxOptions"),v=`headlessui-listbox-options-${N()}`,a=_(null);p({el:e.optionsRef,$el:e.optionsRef});function b(o){switch(a.value&&clearTimeout(a.value),o.key){case x.Space:if(e.searchQuery.value!=="")return o.preventDefault(),o.stopPropagation(),e.search(o.key);case x.Enter:if(o.preventDefault(),o.stopPropagation(),e.activeOptionIndex.value!==null){let s=e.options.value[e.activeOptionIndex.value];e.select(s.dataRef.value)}e.mode.value===0&&(e.closeListbox(),P(()=>{var s;return(s=g(e.buttonRef))==null?void 0:s.focus({preventScroll:!0})}));break;case D(e.orientation.value,{vertical:x.ArrowDown,horizontal:x.ArrowRight}):return o.preventDefault(),o.stopPropagation(),e.goToOption(y.Next);case D(e.orientation.value,{vertical:x.ArrowUp,horizontal:x.ArrowLeft}):return o.preventDefault(),o.stopPropagation(),e.goToOption(y.Previous);case x.Home:case x.PageUp:return o.preventDefault(),o.stopPropagation(),e.goToOption(y.First);case x.End:case x.PageDown:return o.preventDefault(),o.stopPropagation(),e.goToOption(y.Last);case x.Escape:o.preventDefault(),o.stopPropagation(),e.closeListbox(),P(()=>{var s;return(s=g(e.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case x.Tab:o.preventDefault(),o.stopPropagation();break;default:o.key.length===1&&(e.search(o.key),a.value=setTimeout(()=>e.clearSearch(),350));break}}let i=me(),d=L(()=>i!==null?i.value===M.Open:e.listboxState.value===0);return()=>{var o,s,O,h;let I={open:e.listboxState.value===0},c={"aria-activedescendant":e.activeOptionIndex.value===null||(o=e.options.value[e.activeOptionIndex.value])==null?void 0:o.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(h=(s=g(e.labelRef))==null?void 0:s.id)!=null?h:(O=g(e.buttonRef))==null?void 0:O.id,"aria-orientation":e.orientation.value,id:v,onKeydown:b,role:"listbox",tabIndex:0,ref:e.optionsRef};return E({ourProps:c,theirProps:t,slot:I,attrs:n,slots:l,features:K.RenderStrategy|K.Static,visible:d.value,name:"ListboxOptions"})}}}),$e=A({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:n,attrs:l,expose:p}){let e=V("ListboxOption"),v=`headlessui-listbox-option-${N()}`,a=_(null);p({el:a,$el:a});let b=L(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===v:!1),i=L(()=>D(e.mode.value,{[0]:()=>e.compare(S(e.value.value),S(t.value)),[1]:()=>S(e.value.value).some(c=>e.compare(S(c),S(t.value)))})),d=L(()=>D(e.mode.value,{[1]:()=>{var c;let r=S(e.value.value);return((c=e.options.value.find(u=>r.some(f=>e.compare(S(f),S(u.dataRef.value)))))==null?void 0:c.id)===v},[0]:()=>i.value})),o=L(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:a}));j(()=>{var c,r;let u=(r=(c=g(a))==null?void 0:c.textContent)==null?void 0:r.toLowerCase().trim();u!==void 0&&(o.value.textValue=u)}),j(()=>e.registerOption(v,o)),ae(()=>e.unregisterOption(v)),j(()=>{ne([e.listboxState,i],()=>{e.listboxState.value===0&&(!i.value||D(e.mode.value,{[1]:()=>{d.value&&e.goToOption(y.Specific,v)},[0]:()=>{e.goToOption(y.Specific,v)}}))},{immediate:!0})}),Q(()=>{e.listboxState.value===0&&(!b.value||e.activationTrigger.value!==0&&P(()=>{var c,r;return(r=(c=g(a))==null?void 0:c.scrollIntoView)==null?void 0:r.call(c,{block:"nearest"})}))});function s(c){if(t.disabled)return c.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),P(()=>{var r;return(r=g(e.buttonRef))==null?void 0:r.focus({preventScroll:!0})}))}function O(){if(t.disabled)return e.goToOption(y.Nothing);e.goToOption(y.Specific,v)}function h(){t.disabled||b.value||e.goToOption(y.Specific,v,0)}function I(){t.disabled||!b.value||e.goToOption(y.Nothing)}return()=>{let{disabled:c}=t,r={active:b.value,selected:i.value,disabled:c},u={id:v,ref:a,role:"option",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-selected":i.value===!0?i.value:void 0,disabled:void 0,onClick:s,onFocus:O,onPointermove:h,onMousemove:h,onPointerleave:I,onMouseleave:I};return E({ourProps:u,theirProps:W(t,["value","disabled"]),slot:r,attrs:l,slots:n,name:"ListboxOption"})}}});function Be(t,n){return C(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[T("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])}const Ce={props:["selected","selectable","readonly"],components:{Listbox:ke,ListboxButton:Pe,ListboxLabel:Te,ListboxOption:$e,ListboxOptions:De,CheckIcon:ye,SelectorIcon:Be}},Ae={class:"mt-1 relative"},Ee={class:"flex items-center"},Ve={class:"block truncate capitalize"},ze={class:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},Ne={class:"flex items-center"};function je(t,n,l,p,e,v){const a=R("ListboxLabel"),b=R("SelectorIcon"),i=R("ListboxButton"),d=R("CheckIcon"),o=R("ListboxOption"),s=R("ListboxOptions"),O=R("Listbox");return C(),F(O,{as:"div",modelValue:l.selected,"onUpdate:modelValue":n[0]||(n[0]=h=>l.selected=h)},{default:B(()=>[T(a,{class:"block text-sm font-medium text-gray-700"},{default:B(()=>[re(t.$slots,"title")]),_:3}),k("div",Ae,[T(i,{class:z([[l.readonly?"bg-gray-200":"bg-white"],"relative w-full border text-gray-600 border-dark-brand rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:border-blue-brand focus:ring focus:ring-indigo-200 focus:ring-opacity-50 sm:text-sm"])},{default:B(()=>[k("span",Ee,[k("span",Ve,H(l.selected.name),1)]),k("span",ze,[T(b,{class:"h-5 w-5 text-gray-600","aria-hidden":"true"})])]),_:1},8,["class"]),T(ce,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:B(()=>[T(s,{class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-56 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},{default:B(()=>[(C(!0),J(G,null,ue(l.selectable,h=>(C(),F(o,{as:"template",key:h.id,value:h},{default:B(({active:I,selected:c})=>[k("li",{class:z([I?"text-white bg-blue-brand":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9"])},[k("div",Ne,[k("span",{class:z([c?"font-semibold":"font-normal","block truncate capitalize"])},H(h.name),3)]),c?(C(),J("span",{key:0,class:z([I?"text-white":"text-blue-brand","absolute inset-y-0 right-0 flex items-center pr-4"])},[T(d,{class:"h-5 w-5","aria-hidden":"true"})],2)):de("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:3},8,["modelValue"])}const qe=pe(Ce,[["render",je]]);export{qe as J};
