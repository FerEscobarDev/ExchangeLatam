import{i as D,j as c,o as a,c as $,w as s,L as P,a as e,b as i,n as m,t as d,d as n,e as u,m as v,v as L,M as U,k as _,N as V,h as l}from"./app.7999cf1f.js";import{A as F}from"./AppLayoutAdmin.48131d6e.js";import{_ as M}from"./DialogModal.dcac158a.js";import{_ as E}from"./ConfirmationModal.16f4dbfb.js";import{_ as T}from"./Button.16f645a9.js";import{_ as z}from"./SecondaryButton.6ad1e4b6.js";import{l as B,F as R}from"./index.es.b629d8a8.js";import{j as A}from"./index.es.4d3c31b3.js";import{_ as N}from"./DangerButton.b060c195.js";import{J as I}from"./Select.0518b346.js";import{_ as J}from"./Label.1bb1cfa0.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import"./NavLink.d6db4fac.js";import"./Modal.96eea86a.js";import"./logoweb.554f3f4d.js";import"./use-resolve-button-type.ff85f682.js";import"./open-closed.0d255475.js";import"./hidden.b8fa9f2a.js";import"./CheckIcon.b1b972e8.js";B.add(A);const q=D({components:{AppLayoutAdmin:F,Link:P,JetDialogModal:M,JetSecondaryButton:z,JetButton:T,FontAwesomeIcon:R,DangerButton:N,ConfirmationModal:E,Select:I,Label:J},props:["deposit","voucher"],setup(t){return{status:[{id:1,name:"Pendiente"},{id:2,name:"Realizado"},{id:3,name:"Cancelado"}]}},data(){return{voucherShow:!1,voucherExist:this.voucher===null,form:this.$inertia.form({_method:"PUT",voucherUp:null}),formStatus:this.$inertia.form({_method:"PUT",status:this.status[0],comments:null}),formDelete:this.$inertia.form({_method:"delete"}),voucherPreview:null,statusChange:!1,delete:!1}},methods:{dateFormat(t){let o=new Date(t);const p=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return o.getDate()+"-"+p[o.getMonth()]+"-"+o.getFullYear()},showVoucher(){this.voucherShow=!0},closeModal(){this.voucherShow=!1},changeStatus(){this.statusChange?this.statusChange=!1:this.statusChange=!0},deleteTransaction(){this.delete?this.delete=!1:this.delete=!0},submit(){this.$refs.voucherUp&&(this.form.voucherUp=this.$refs.voucherUp.files[0]),this.form.post(this.route("deposit.voucherUp",this.deposit.id),{onSuccess:()=>this.clearFileInput()})},submitDelete(){this.formDelete.post(this.route("admin.destroyDeposit",this.deposit.id))},submitStatus(){this.formStatus.post(this.route("admin.statusDeposit",this.deposit.id),{onSuccess:()=>this.changeStatus()})},selectFile(){this.$refs.voucherUp.click()},updateVoucherPreview(){const t=this.$refs.voucherUp.files[0];if(this.voucher,!t)return;const o=new FileReader;o.onload=p=>{this.voucherPreview=p.target.result},o.readAsDataURL(t)},clearFileInput(){var t;(t=this.$refs.voucherUp)!=null&&t.value&&(this.$refs.voucherUp.value=null,this.voucherExist=!1,this.voucherPreview=null)}}}),G={class:"font-semibold text-xl text-gray-700 leading-tight"},Y=l("Dashboard/"),H=l("Dep\xF3sitos a broker/"),K=l("Vista Detallada "),Q={class:"py-6 w-full"},W={class:"flex mx-auto lg:mr-4"},X={class:"container mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white shadow-xl sm:rounded-lg flex flex-col"},ee={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 mt-5 h-min"},te=e("h2",{class:"text-lg text-dark-brand font-semibold mb-2"}," Detalles de la transacci\xF3n ",-1),se={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},oe={class:"flex justify-between items-center w-full"},ae=e("span",{class:"text-sm text-gray-600 mr-2"},"Cliente: ",-1),ne={class:"text-md font-semibold text-dark-brand"},ie={class:"flex justify-between items-center w-full"},le=e("span",{class:"text-sm text-gray-600 mr-2"},"Broker: ",-1),de={class:"flex justify-between items-center w-full"},re=e("span",{class:"text-sm text-gray-600 mr-2"},"Cuenta de trading: ",-1),ce={class:"text-sm font-semibold text-dark-brand"},me={class:"flex justify-between items-center w-full"},ue=e("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de solicitud: ",-1),pe={class:"text-sm font-semibold text-dark-brand"},fe={key:0,class:"flex justify-between items-center w-full"},he=e("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de finalizaci\xF3n: ",-1),_e={class:"text-sm font-semibold text-dark-brand"},be={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},xe={key:0,class:"text-lg text-dark-brand font-semibold mb-2"},ge={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},ve={class:"flex items-center w-full"},we={class:"text-sm text-gray-600 font-semibold"},ye=e("hr",{scope:"",class:"mx-auto w-4/5 border-0 h-[0.5px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),ke={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},Ce={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center"},Se=e("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Detalles de pago",-1),je={key:0,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},De=e("span",{class:"text-sm text-gray-600 font-semibold mb-2"},"Los detalles la cuenta bancaria de este pago no est\xE1n disponibles, por favor revisa el comprobante.",-1),$e={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},Pe={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Le={key:2,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Ue={key:1,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},Ve={key:0,class:"flex"},Fe=e("span",{class:"text-sm text-gray-600 mr-1"},"Gerente: ",-1),Me=e("span",{class:"text-sm font-semibold text-dark-brand"},"Fernando Escobar Bermudez",-1),Ee=[Fe,Me],Te={key:1,class:"font-semibold"},ze={key:2,class:"flex"},Be=e("span",{class:"text-sm text-gray-600 mr-1"},"C\xE9dula: ",-1),Re=e("span",{class:"text-sm font-semibold text-dark-brand"},"1.111.198.204",-1),Ae=[Be,Re],Ne={key:3,class:"flex"},Ie=e("span",{class:"text-sm text-gray-600 mr-1"},"NIT: ",-1),Je=e("span",{class:"text-sm font-semibold text-dark-brand"},"901.422.406",-1),Oe=[Ie,Je],qe={class:"flex"},Ge=e("span",{class:"text-sm text-gray-600 mr-1"},"Banco: ",-1),Ye={class:"text-sm font-semibold text-dark-brand"},He={class:"flex"},Ke=e("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: ",-1),Qe={class:"text-sm font-semibold text-dark-brand"},We={class:"flex mb-2"},Xe=e("span",{class:"text-sm text-gray-600 mr-1"},"Tipo de Cuenta: ",-1),Ze={class:"text-sm font-semibold text-dark-brand"},et={key:4,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},tt={key:5,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},st={key:6,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},ot={key:2,class:"flex flex-col justify-between items-center mt-5"},at=l(" Ver Comprobante "),nt=l(" Comprobante de transferencia "),it=["src"],lt=l(" Cerrar "),dt={key:3,class:"mt-5"},rt={class:"mb-4"},ct={key:0,class:"block rounded-lg w-full sm:w-auto mx-auto text-gray-500 text-sm text-center"},mt=l(),ut={key:0},pt={key:1},ft=l(" Enviar "),ht={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},_t=e("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Resumen de la transacci\xF3n",-1),bt={class:"rounded-lg text-dark-brand w-80 flex flex-col items-center"},xt={class:"flex justify-between items-center w-full"},gt=e("span",{class:"text-sm text-gray-600 mr-1"},"Monto USD: ",-1),vt={class:"font-semibold text-dark-brand"},wt={class:"flex justify-between items-center w-full"},yt=e("span",{class:"text-sm text-gray-600 mr-1"},"Monto COP: ",-1),kt={class:"font-semibold text-dark-brand"},Ct={class:"flex justify-between items-center w-full"},St=e("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto 4x1000: ",-1),jt={class:"font-semibold text-dark-brand"},Dt={class:"flex justify-between items-center w-full"},$t=e("span",{class:"text-sm text-gray-600 mr-1"},"Comisi\xF3n: ",-1),Pt={class:"font-semibold text-dark-brand"},Lt={class:"flex justify-between items-center w-full"},Ut=e("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto IVA: ",-1),Vt={class:"font-semibold text-dark-brand"},Ft={class:"flex justify-between items-center w-full"},Mt=e("span",{class:"text-sm text-gray-600 mr-1"},"Descuento VIP: ",-1),Et={class:"font-semibold text-dark-brand"},Tt=e("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-5"},null,-1),zt={class:"flex justify-between items-center w-full"},Bt=e("span",{class:"text-base text-dark-brand mr-1"},"Total a pagar COP: ",-1),Rt={class:"font-semibold text-dark-brand"},At=e("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),Nt={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},It={class:"col-span-3 flex flex-col justify-between items-center mb-5"},Jt=l(" Cambiar estado "),Ot=l(" Cambiar estado de la transacci\xF3n "),qt={class:"my-2"},Gt=l(" Cambio de estado "),Yt={class:"my-2 mt-3"},Ht={class:"w-full"},Kt=l(" Cambiar "),Qt=l(" Cerrar "),Wt={class:"col-span-3 flex flex-col justify-between items-center mb-5"},Xt=l(" Eliminar "),Zt=l(" Eliminar transacci\xF3n "),es=l(" \xBFSeguro que quieres eliminar esta transacci\xF3n? "),ts=l(" Eliminar "),ss=l(" Cerrar ");function os(t,o,p,w,as,ns){const b=c("Link"),f=c("jet-button"),h=c("jet-secondary-button"),x=c("jet-dialog-modal"),y=c("font-awesome-icon"),k=c("Select"),C=c("Label"),g=c("DangerButton"),S=c("ConfirmationModal"),j=c("app-layout-admin");return a(),$(j,{title:"Detalle del dep\xF3sito"},{header:s(()=>[e("h2",G,[i(b,{href:t.route("dashboard"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:s(()=>[Y]),_:1},8,["href"]),i(b,{href:t.route("deposit.index"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:s(()=>[H]),_:1},8,["href"]),K])]),default:s(()=>[e("div",Q,[e("div",W,[e("div",X,[e("div",Z,[e("div",ee,[e("div",{class:m([{"md:col-span-6":!t.deposit.comment},"col-span-6 md:col-span-3 flex flex-col justify-between items-center"])},[te,e("div",se,[e("span",oe,[ae,e("span",ne,d(t.deposit.user.name+" "+t.deposit.user.lastname),1)]),e("span",ie,[le,e("span",{class:m([{"text-green-500":t.deposit.transactionable.broker.id===1,"text-blue-800":t.deposit.transactionable.broker.id===2},"text-sm font-semibold"])},d(t.deposit.transactionable.broker.name),3)]),e("span",de,[re,e("span",ce,d(t.deposit.transactionable.number),1)]),e("span",me,[ue,e("span",pe,d(t.dateFormat(t.deposit.application_date)),1)]),t.deposit.completed_date?(a(),n("span",fe,[he,e("span",_e,d(t.dateFormat(t.deposit.completed_date)),1)])):u("",!0)])],2),e("div",be,[t.deposit.comment?(a(),n("h2",xe,"Comentarios")):u("",!0),e("div",ge,[e("span",ve,[e("span",we,d(t.deposit.comment),1)])])])]),ye,e("div",ke,[e("div",Ce,[Se,t.deposit.account.number==="000000000"?(a(),n("div",je,[De,t.deposit.status==="Realizado"?(a(),n("span",$e," Pago Realizado ")):t.deposit.status==="Pendiente"?(a(),n("span",Pe," Procesando ... ")):t.deposit.status==="Cancelado"?(a(),n("span",Le," Transacci\xF3n Rechazada ")):u("",!0)])):(a(),n("div",Ue,[t.deposit.account_id!==3?(a(),n("span",Ve,Ee)):(a(),n("span",Te,"ExchangeLatam SAS")),t.deposit.account_id!==3?(a(),n("span",ze,Ae)):(a(),n("span",Ne,Oe)),e("span",qe,[Ge,e("span",Ye,d(t.deposit.account.bank.name),1)]),e("span",He,[Ke,e("span",Qe,d(t.deposit.account.number),1)]),e("span",We,[Xe,e("span",Ze,d(t.deposit.account.type),1)]),t.deposit.status==="Realizado"?(a(),n("span",et," Pago Realizado ")):t.deposit.status==="Pendiente"?(a(),n("span",tt," Procesando ... ")):t.deposit.status==="Cancelado"?(a(),n("span",st," Transacci\xF3n Rechazada ")):u("",!0)])),t.voucherExist?(a(),n("div",dt,[v(e("div",rt,[e("span",{class:"block rounded-lg w-32 h-36 bg-cover bg-no-repeat bg-center mx-auto",style:U("background-image: url('"+t.voucherPreview+"');")},null,4),t.voucherPreview?(a(),n("span",ct,d(t.$refs.voucherUp.files[0].name),1)):u("",!0)],512),[[L,t.voucherPreview]]),e("form",{onSubmit:o[1]||(o[1]=_((...r)=>t.submit&&t.submit(...r),["prevent"])),class:"flex flex-col justify-between items-center"},[e("input",{type:"file",class:"hidden",ref:"voucherUp",onChange:o[0]||(o[0]=(...r)=>t.updateVoucherPreview&&t.updateVoucherPreview(...r))},null,544),i(h,{onClick:_(t.selectFile,["prevent"]),class:"mx-auto mb-4"},{default:s(()=>[i(y,{class:"mr-2",icon:["fas","upload"],size:"sm"}),mt,t.voucherPreview?(a(),n("span",ut,"Cambiar")):(a(),n("span",pt,"Seleccione archivo"))]),_:1},8,["onClick"]),i(f,{class:m({"opacity-25":t.form.processing}),disabled:t.form.processing},{default:s(()=>[ft]),_:1},8,["class","disabled"])],32)])):(a(),n("div",ot,[i(f,{onClick:t.showVoucher,class:"mx-auto",disabled:t.voucherExist},{default:s(()=>[at]),_:1},8,["onClick","disabled"]),i(x,{show:t.voucherShow,onClose:t.closeModal},{title:s(()=>[nt]),content:s(()=>[e("img",{src:t.voucher,alt:"No se pudo cargar el comprobante"},null,8,it)]),footer:s(()=>[i(h,{onClick:t.closeModal},{default:s(()=>[lt]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]))]),e("div",ht,[_t,e("div",bt,[e("span",xt,[gt,e("span",vt,"$ "+d(t.deposit.amount_usd.toLocaleString()),1)]),e("span",wt,[yt,e("span",kt,"$ "+d(t.deposit.amount_cop.toLocaleString()),1)]),e("span",Ct,[St,e("span",jt,"$ "+d(t.deposit.cuatro_por_mil.toLocaleString()),1)]),e("span",Dt,[$t,e("span",Pt,"$ "+d(t.deposit.comission.toLocaleString()),1)]),e("span",Lt,[Ut,e("span",Vt,"$ "+d(t.deposit.iva.toLocaleString()),1)]),e("span",Ft,[Mt,e("span",Et,"$ "+d(t.deposit.rebate.toLocaleString()),1)]),Tt,e("span",zt,[Bt,e("span",Rt,"$ "+d(t.deposit.total.toLocaleString()),1)])])])]),At,e("div",Nt,[e("div",It,[i(f,{onClick:t.changeStatus,class:"mx-auto"},{default:s(()=>[Jt]),_:1},8,["onClick"]),i(x,{show:t.statusChange,onClose:t.changeStatus},{title:s(()=>[Ot]),content:s(()=>[e("form",{onSubmit:o[4]||(o[4]=_((...r)=>t.submitStatus&&t.submitStatus(...r),["prevent"]))},[e("div",qt,[i(k,{selectable:t.status,selected:t.formStatus.status,modelValue:t.formStatus.status,"onUpdate:modelValue":o[2]||(o[2]=r=>t.formStatus.status=r)},{title:s(()=>[Gt]),_:1},8,["selectable","selected","modelValue"])]),e("div",Yt,[i(C,{for:"comments",value:"Comentarios"}),v(e("textarea",{class:"w-full text-gray-600 border-dark-brand focus:border-blue-brand focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",name:"comments",id:"comments",rows:"2",placeholder:"Escribe un comentario","onUpdate:modelValue":o[3]||(o[3]=r=>t.formStatus.comments=r)},null,512),[[V,t.formStatus.comments]])]),e("div",Ht,[i(f,{class:m([{"opacity-25":t.formStatus.processing},"mr-4 mx-auto"]),disabled:t.formStatus.processing},{default:s(()=>[Kt]),_:1},8,["class","disabled"])])],32)]),footer:s(()=>[i(h,{onClick:t.changeStatus},{default:s(()=>[Qt]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]),e("div",Wt,[i(g,{onClick:t.deleteTransaction,class:"mx-auto"},{default:s(()=>[Xt]),_:1},8,["onClick"]),i(S,{show:t.delete,onClose:t.deleteTransaction},{title:s(()=>[Zt]),content:s(()=>[es]),footer:s(()=>[e("form",{onSubmit:o[5]||(o[5]=_((...r)=>t.submitDelete&&t.submitDelete(...r),["prevent"])),class:"mr-4"},[i(g,{class:m({"opacity-25":t.formDelete.processing}),disabled:t.formDelete.processing},{default:s(()=>[ts]),_:1},8,["class","disabled"])],32),i(h,{onClick:t.deleteTransaction},{default:s(()=>[ss]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])])])])])])]),_:1})}const Ss=O(q,[["render",os]]);export{Ss as default};
