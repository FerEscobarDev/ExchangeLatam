import{i as D,j as c,o as a,c as P,w as s,L as U,a as t,b as n,n as m,t as l,d as i,e as u,m as x,v as L,M as V,k as p,N as F,h as r}from"./app.7999cf1f.js";import{A as M}from"./AppLayoutAdmin.48131d6e.js";import{_ as B}from"./DialogModal.dcac158a.js";import{_ as E}from"./ConfirmationModal.16f4dbfb.js";import{_ as T}from"./Button.16f645a9.js";import{_ as z}from"./SecondaryButton.6ad1e4b6.js";import{l as R,F as A}from"./index.es.b629d8a8.js";import{j as I}from"./index.es.4d3c31b3.js";import{_ as N}from"./DangerButton.b060c195.js";import{_ as J}from"./InputError.3c8fe43a.js";import{J as O}from"./Select.0518b346.js";import{_ as W}from"./Label.1bb1cfa0.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";import"./NavLink.d6db4fac.js";import"./Modal.96eea86a.js";import"./logoweb.554f3f4d.js";import"./use-resolve-button-type.ff85f682.js";import"./open-closed.0d255475.js";import"./hidden.b8fa9f2a.js";import"./CheckIcon.b1b972e8.js";R.add(I);const Y=D({components:{AppLayoutAdmin:M,Link:U,JetDialogModal:B,JetSecondaryButton:z,JetButton:T,FontAwesomeIcon:A,DangerButton:N,ConfirmationModal:E,Select:O,Label:W,InputError:J},props:{withdrawal:Object,voucher:String},setup(e){return{status:[{id:1,name:"Pendiente"},{id:2,name:"Realizado"},{id:3,name:"Cancelado"}]}},data(){return{voucherShow:!1,voucherExist:this.voucher===null,form:this.$inertia.form({_method:"PUT",voucherUp:null}),formStatus:this.$inertia.form({_method:"PUT",status:this.status[0],comments:null}),formDelete:this.$inertia.form({_method:"delete"}),voucherPreview:null,statusChange:!1,delete:!1}},methods:{dateFormat(e){let o=new Date(e);const h=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return o.getDate()+"-"+h[o.getMonth()]+"-"+o.getFullYear()},showVoucher(){this.voucherShow=!0},closeModal(){this.voucherShow=!1},changeStatus(){this.statusChange?this.statusChange=!1:this.statusChange=!0},deleteTransaction(){this.delete?this.delete=!1:this.delete=!0},submit(){this.$refs.voucherUp&&(this.form.voucherUp=this.$refs.voucherUp.files[0]),this.form.post(this.route("admin.voucherUpWithdrawal",this.withdrawal.id),{onSuccess:()=>this.clearFileInput()})},submitDelete(){this.formDelete.post(this.route("admin.destroyWithdrawal",this.withdrawal.id))},submitStatus(){this.formStatus.post(this.route("admin.statusWithdrawal",this.withdrawal.id),{onSuccess:()=>this.changeStatus()})},selectFile(){this.$refs.voucherUp.click()},updateVoucherPreview(){const e=this.$refs.voucherUp.files[0];if(this.voucher,!e)return;const o=new FileReader;o.onload=h=>{this.voucherPreview=h.target.result},o.readAsDataURL(e)},clearFileInput(){var e;(e=this.$refs.voucherUp)!=null&&e.value&&(this.$refs.voucherUp.value=null,this.voucherExist=!1,this.voucherPreview=null)}}}),G={class:"font-semibold text-xl text-gray-700 leading-tight"},H=r("Dashboard/"),K=r("Retiros de FBS/"),Q=r("Vista Detallada "),X={class:"py-6 w-full"},Z={class:"flex mx-auto lg:mr-4"},ee={class:"container mx-auto sm:px-6 lg:px-8"},te={class:"bg-white shadow-xl sm:rounded-lg flex flex-col"},se={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 mt-5 h-min"},oe=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"}," Detalles de la transacci\xF3n ",-1),ae={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},ne={class:"flex justify-between items-center w-full"},le=t("span",{class:"text-sm text-gray-600 mr-2"},"Cliente: ",-1),ie={class:"text-md font-semibold text-dark-brand"},re={class:"flex justify-between items-center w-full"},de=t("span",{class:"text-sm text-gray-600 mr-2"},"Broker: ",-1),ce={class:"flex justify-between items-center w-full"},me=t("span",{class:"text-sm text-gray-600 mr-2"},"Cuenta de trading: ",-1),ue={class:"text-sm font-semibold text-dark-brand"},he={class:"flex justify-between items-center w-full"},fe=t("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de solicitud: ",-1),_e={class:"text-sm font-semibold text-dark-brand"},pe={key:0,class:"flex justify-between items-center w-full"},be=t("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de finalizaci\xF3n: ",-1),we={class:"text-sm font-semibold text-dark-brand"},ge={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},xe={key:0,class:"text-lg text-dark-brand font-semibold mb-2"},ve={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},ye={class:"flex items-center w-full"},ke={class:"text-sm text-gray-600 font-semibold"},Ce=t("hr",{scope:"",class:"mx-auto w-4/5 border-0 h-[0.5px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),Se={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},je={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center"},$e=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Detalles de pago",-1),De={key:0,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},Pe=t("span",{class:"text-sm text-gray-600 font-semibold mb-2"},"Los detalles la cuenta bancaria de este pago no est\xE1n disponibles, por favor revisa el comprobante.",-1),Ue={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},Le={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Ve={key:2,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Fe={key:1,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},Me={class:"font-semibold"},Be={class:"flex"},Ee={key:0,class:"text-sm text-gray-600 mr-1"},Te={key:1,class:"text-sm text-gray-600 mr-1"},ze={key:2,class:"text-sm text-gray-600 mr-1"},Re={class:"text-sm font-semibold text-dark-brand"},Ae={class:"flex"},Ie=t("span",{class:"text-sm text-gray-600 mr-1"},"Banco: ",-1),Ne={class:"text-sm font-semibold text-dark-brand"},Je={class:"flex"},Oe=t("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: ",-1),We={class:"text-sm font-semibold text-dark-brand"},qe={class:"flex mb-2"},Ye=t("span",{class:"text-sm text-gray-600 mr-1"},"Tipo de Cuenta: ",-1),Ge={class:"text-sm font-semibold text-dark-brand"},He={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},Ke={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Qe={key:2,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Xe={key:2,class:"flex flex-col justify-between items-center mt-5"},Ze=r(" Ver Comprobante "),et=r(" Comprobante de transferencia "),tt=["src"],st=r(" Cerrar "),ot={key:3,class:"mt-5"},at={class:"mb-4"},nt={key:0,class:"block rounded-lg w-full sm:w-auto mx-auto text-gray-500 text-sm text-center"},lt=r(),it={key:0},rt={key:1},dt=r(" Enviar "),ct={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},mt=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Resumen de la transacci\xF3n",-1),ut={class:"rounded-lg text-dark-brand w-80 flex flex-col items-center"},ht={class:"flex justify-between items-center w-full"},ft=t("span",{class:"text-sm text-gray-600 mr-1"},"Monto USD: ",-1),_t={class:"font-semibold text-dark-brand"},pt={class:"flex justify-between items-center w-full"},bt=t("span",{class:"text-sm text-gray-600 mr-1"},"Monto COP: ",-1),wt={class:"font-semibold text-dark-brand"},gt={class:"flex justify-between items-center w-full"},xt=t("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto 4x1000: ",-1),vt={class:"font-semibold text-dark-brand"},yt={class:"flex justify-between items-center w-full"},kt=t("span",{class:"text-sm text-gray-600 mr-1"},"Comisi\xF3n: ",-1),Ct={class:"font-semibold text-dark-brand"},St={class:"flex justify-between items-center w-full"},jt=t("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto IVA: ",-1),$t={class:"font-semibold text-dark-brand"},Dt={class:"flex justify-between items-center w-full"},Pt=t("span",{class:"text-sm text-gray-600 mr-1"},"Descuento VIP: ",-1),Ut={class:"font-semibold text-dark-brand"},Lt=t("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-5"},null,-1),Vt={class:"flex justify-between items-center w-full"},Ft=t("span",{class:"text-base text-dark-brand mr-1"},"Total a pagar COP: ",-1),Mt={class:"font-semibold text-dark-brand"},Bt=t("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),Et={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},Tt={class:"col-span-3 flex flex-col justify-between items-center mb-5"},zt=r(" Cambiar estado "),Rt=r(" Cambiar estado de la transacci\xF3n "),At={class:"my-2"},It=r(" Cambio de estado "),Nt={class:"my-2 mt-3"},Jt={class:"w-full"},Ot=r(" Cambiar "),Wt=r(" Cerrar "),qt={class:"col-span-3 flex flex-col justify-between items-center mb-5"},Yt=r(" Eliminar "),Gt=r(" Eliminar transacci\xF3n "),Ht=r(" \xBFSeguro que quieres eliminar esta transacci\xF3n? "),Kt=r(" Eliminar "),Qt=r(" Cerrar ");function Xt(e,o,h,v,Zt,es){const b=c("Link"),f=c("jet-button"),_=c("jet-secondary-button"),w=c("jet-dialog-modal"),y=c("font-awesome-icon"),k=c("input-error"),C=c("Select"),S=c("Label"),g=c("DangerButton"),j=c("ConfirmationModal"),$=c("app-layout-admin");return a(),P($,{title:"Detalle del retiro"},{header:s(()=>[t("h2",G,[n(b,{href:e.route("dashboard"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:s(()=>[H]),_:1},8,["href"]),n(b,{href:e.route("withdrawal.index"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:s(()=>[K]),_:1},8,["href"]),Q])]),default:s(()=>[t("div",X,[t("div",Z,[t("div",ee,[t("div",te,[t("div",se,[t("div",{class:m([{"md:col-span-6":!e.withdrawal.comment},"col-span-6 md:col-span-3 flex flex-col justify-between items-center"])},[oe,t("div",ae,[t("span",ne,[le,t("span",ie,l(e.withdrawal.user.name+" "+e.withdrawal.user.lastname),1)]),t("span",re,[de,t("span",{class:m([{"text-green-500":e.withdrawal.transactionable.broker.id===1,"text-blue-800":e.withdrawal.transactionable.broker.id===2},"text-sm font-semibold"])},l(e.withdrawal.transactionable.broker.name),3)]),t("span",ce,[me,t("span",ue,l(e.withdrawal.transactionable.number),1)]),t("span",he,[fe,t("span",_e,l(e.dateFormat(e.withdrawal.application_date)),1)]),e.withdrawal.completed_date?(a(),i("span",pe,[be,t("span",we,l(e.dateFormat(e.withdrawal.completed_date)),1)])):u("",!0)])],2),t("div",ge,[e.withdrawal.comment?(a(),i("h2",xe,"Comentarios")):u("",!0),t("div",ve,[t("span",ye,[t("span",ke,l(e.withdrawal.comment),1)])])])]),Ce,t("div",Se,[t("div",je,[$e,e.withdrawal.account.number==="000000000"?(a(),i("div",De,[Pe,e.withdrawal.status==="Realizado"?(a(),i("span",Ue," Pago Realizado ")):e.withdrawal.status==="Pendiente"?(a(),i("span",Le," Procesando ... ")):e.withdrawal.status==="Cancelado"?(a(),i("span",Ve," Transacci\xF3n Rechazada ")):u("",!0)])):(a(),i("div",Fe,[t("span",Me,l(e.withdrawal.user.name+" "+e.withdrawal.user.lastname),1),t("span",Be,[e.withdrawal.user.data_user.doc_type===1?(a(),i("span",Ee,"C\xE9dula: ")):e.withdrawal.user.data_user.doc_type===2?(a(),i("span",Te,"C\xE9dula de extranjer\xEDa: ")):(a(),i("span",ze,"Pasaporte: ")),t("span",Re,l(e.withdrawal.user.data_user.doc_num),1)]),t("span",Ae,[Ie,t("span",Ne,l(e.withdrawal.account.bank.name),1)]),t("span",Je,[Oe,t("span",We,l(e.withdrawal.account.number),1)]),t("span",qe,[Ye,t("span",Ge,l(e.withdrawal.account.type),1)]),e.withdrawal.status==="Realizado"?(a(),i("span",He," Pago Realizado ")):e.withdrawal.status==="Pendiente"?(a(),i("span",Ke," Procesando ... ")):e.withdrawal.status==="Cancelado"?(a(),i("span",Qe," Transacci\xF3n Rechazada ")):u("",!0)])),e.voucherExist?(a(),i("div",ot,[x(t("div",at,[t("span",{class:"block rounded-lg w-32 h-36 bg-cover bg-no-repeat bg-center mx-auto",style:V("background-image: url('"+e.voucherPreview+"');")},null,4),e.voucherPreview?(a(),i("span",nt,l(e.$refs.voucherUp.files[0].name),1)):u("",!0)],512),[[L,e.voucherPreview]]),t("form",{onSubmit:o[1]||(o[1]=p((...d)=>e.submit&&e.submit(...d),["prevent"])),class:"flex flex-col justify-between items-center"},[t("input",{type:"file",class:"hidden",ref:"voucherUp",onChange:o[0]||(o[0]=(...d)=>e.updateVoucherPreview&&e.updateVoucherPreview(...d))},null,544),n(_,{onClick:p(e.selectFile,["prevent"]),class:"mx-auto mb-4"},{default:s(()=>[n(y,{class:"mr-2",icon:["fas","upload"],size:"sm"}),lt,e.voucherPreview?(a(),i("span",it,"Cambiar")):(a(),i("span",rt,"Seleccione archivo"))]),_:1},8,["onClick"]),n(f,{class:m({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>[dt]),_:1},8,["class","disabled"])],32),n(k,{message:e.form.errors.voucherUp,class:"mt-2"},null,8,["message"])])):(a(),i("div",Xe,[n(f,{onClick:e.showVoucher,class:"mx-auto",disabled:e.voucherExist},{default:s(()=>[Ze]),_:1},8,["onClick","disabled"]),n(w,{show:e.voucherShow,onClose:e.closeModal},{title:s(()=>[et]),content:s(()=>[t("img",{src:e.voucher,alt:"No se pudo cargar el comprobante"},null,8,tt)]),footer:s(()=>[n(_,{onClick:e.closeModal},{default:s(()=>[st]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]))]),t("div",ct,[mt,t("div",ut,[t("span",ht,[ft,t("span",_t,"$ "+l(e.withdrawal.amount_usd.toLocaleString()),1)]),t("span",pt,[bt,t("span",wt,"$ "+l(e.withdrawal.amount_cop.toLocaleString()),1)]),t("span",gt,[xt,t("span",vt,"$ "+l(e.withdrawal.cuatro_por_mil.toLocaleString()),1)]),t("span",yt,[kt,t("span",Ct,"$ "+l(e.withdrawal.comission.toLocaleString()),1)]),t("span",St,[jt,t("span",$t,"$ "+l(e.withdrawal.iva.toLocaleString()),1)]),t("span",Dt,[Pt,t("span",Ut,"$ "+l(e.withdrawal.rebate.toLocaleString()),1)]),Lt,t("span",Vt,[Ft,t("span",Mt,"$ "+l(e.withdrawal.total.toLocaleString()),1)])])])]),Bt,t("div",Et,[t("div",Tt,[n(f,{onClick:e.changeStatus,class:"mx-auto"},{default:s(()=>[zt]),_:1},8,["onClick"]),n(w,{show:e.statusChange,onClose:e.changeStatus},{title:s(()=>[Rt]),content:s(()=>[t("form",{onSubmit:o[4]||(o[4]=p((...d)=>e.submitStatus&&e.submitStatus(...d),["prevent"]))},[t("div",At,[n(C,{selectable:e.status,selected:e.formStatus.status,modelValue:e.formStatus.status,"onUpdate:modelValue":o[2]||(o[2]=d=>e.formStatus.status=d)},{title:s(()=>[It]),_:1},8,["selectable","selected","modelValue"])]),t("div",Nt,[n(S,{for:"comments",value:"Comentarios"}),x(t("textarea",{class:"w-full text-gray-600 border-dark-brand focus:border-blue-brand focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",name:"comments",id:"comments",rows:"2",placeholder:"Escribe un comentario","onUpdate:modelValue":o[3]||(o[3]=d=>e.formStatus.comments=d)},null,512),[[F,e.formStatus.comments]])]),t("div",Jt,[n(f,{class:m([{"opacity-25":e.formStatus.processing},"mr-4 mx-auto"]),disabled:e.formStatus.processing},{default:s(()=>[Ot]),_:1},8,["class","disabled"])])],32)]),footer:s(()=>[n(_,{onClick:e.changeStatus},{default:s(()=>[Wt]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]),t("div",qt,[n(g,{onClick:e.deleteTransaction,class:"mx-auto"},{default:s(()=>[Yt]),_:1},8,["onClick"]),n(j,{show:e.delete,onClose:e.deleteTransaction},{title:s(()=>[Gt]),content:s(()=>[Ht]),footer:s(()=>[t("form",{onSubmit:o[5]||(o[5]=p((...d)=>e.submitDelete&&e.submitDelete(...d),["prevent"])),class:"mr-4"},[n(g,{class:m({"opacity-25":e.formDelete.processing}),disabled:e.formDelete.processing},{default:s(()=>[Kt]),_:1},8,["class","disabled"])],32),n(_,{onClick:e.deleteTransaction},{default:s(()=>[Qt]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])])])])])])]),_:1})}const vs=q(Y,[["render",Xt]]);export{vs as default};
