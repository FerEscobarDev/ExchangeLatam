import{i as j,j as c,o as a,c as D,w as s,L as P,a as e,b as i,n as m,t as d,d as n,e as u,m as v,v as L,N as U,k as _,O as V,h as l}from"./app.94016ca1.js";import{A as M}from"./AppLayoutAdmin.a2c8d038.js";import{_ as F}from"./DialogModal.c64c3bed.js";import{_ as E}from"./ConfirmationModal.776dfc5f.js";import{_ as T}from"./Button.b2c35d78.js";import{_ as z}from"./SecondaryButton.40289b85.js";import{l as B,F as R}from"./index.es.7528dd5c.js";import{j as A}from"./index.es.4d3c31b3.js";import{_ as N}from"./DangerButton.28255aea.js";import{J as I}from"./Select.67333b8e.js";import{_ as J}from"./Label.40710f5a.js";import{d as O}from"./dayjs.min.15054f08.js";import{_ as Y}from"./_plugin-vue_export-helper.cdc0426e.js";import"./NavLink.67d5fc70.js";import"./Modal.47228519.js";import"./logoweb.554f3f4d.js";import"./use-resolve-button-type.2757631a.js";import"./open-closed.24d85ff3.js";import"./hidden.a6bcda70.js";import"./CheckIcon.e85083a7.js";B.add(A);const q=j({components:{AppLayoutAdmin:M,Link:P,JetDialogModal:F,JetSecondaryButton:z,JetButton:T,FontAwesomeIcon:R,DangerButton:N,ConfirmationModal:E,Select:I,Label:J},props:["deposit","voucher"],setup(t){return{status:[{id:1,name:"Pendiente"},{id:2,name:"Realizado"},{id:3,name:"Cancelado"}]}},data(){return{voucherShow:!1,voucherExist:this.voucher===null,form:this.$inertia.form({_method:"PUT",voucherUp:null}),formStatus:this.$inertia.form({_method:"PUT",status:this.status[0],comments:null}),formDelete:this.$inertia.form({_method:"delete"}),voucherPreview:null,statusChange:!1,delete:!1}},methods:{dateFormat(t){let o=O(t,"YYYY-MM-DD");const p=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return o.$D+"-"+p[o.$M]+"-"+o.$y},showVoucher(){this.voucherShow=!0},closeModal(){this.voucherShow=!1},changeStatus(){this.statusChange?this.statusChange=!1:this.statusChange=!0},deleteTransaction(){this.delete?this.delete=!1:this.delete=!0},submit(){this.$refs.voucherUp&&(this.form.voucherUp=this.$refs.voucherUp.files[0]),this.form.post(this.route("deposit.voucherUp",this.deposit.id),{onSuccess:()=>this.clearFileInput()})},submitDelete(){this.formDelete.post(this.route("admin.destroyDeposit",this.deposit.id))},submitStatus(){this.formStatus.post(this.route("admin.statusDeposit",this.deposit.id),{onSuccess:()=>this.changeStatus()})},selectFile(){this.$refs.voucherUp.click()},updateVoucherPreview(){const t=this.$refs.voucherUp.files[0];if(this.voucher,!t)return;const o=new FileReader;o.onload=p=>{this.voucherPreview=p.target.result},o.readAsDataURL(t)},clearFileInput(){var t;(t=this.$refs.voucherUp)!=null&&t.value&&(this.$refs.voucherUp.value=null,this.voucherExist=!1,this.voucherPreview=null)}}}),G={class:"font-semibold text-xl text-gray-700 leading-tight"},H=l("Dashboard/"),K=l("Dep\xF3sitos a broker/"),Q=l("Vista Detallada "),W={class:"py-6 w-full"},X={class:"flex mx-auto lg:mr-4"},Z={class:"container mx-auto sm:px-6 lg:px-8"},ee={class:"bg-white shadow-xl sm:rounded-lg flex flex-col"},te={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 mt-5 h-min"},se=e("h2",{class:"text-lg text-dark-brand font-semibold mb-2"}," Detalles de la transacci\xF3n ",-1),oe={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},ae={class:"flex justify-between items-center w-full"},ne=e("span",{class:"text-sm text-gray-600 mr-2"},"Cliente: ",-1),ie={class:"text-md font-semibold text-dark-brand"},le={class:"flex justify-between items-center w-full"},de=e("span",{class:"text-sm text-gray-600 mr-2"},"Broker: ",-1),re={class:"flex justify-between items-center w-full"},ce=e("span",{class:"text-sm text-gray-600 mr-2"},"Cuenta de trading: ",-1),me={class:"text-sm font-semibold text-dark-brand"},ue={class:"flex justify-between items-center w-full"},pe=e("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de solicitud: ",-1),fe={class:"text-sm font-semibold text-dark-brand"},he={key:0,class:"flex justify-between items-center w-full"},_e=e("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de finalizaci\xF3n: ",-1),be={class:"text-sm font-semibold text-dark-brand"},xe={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},ge={key:0,class:"text-lg text-dark-brand font-semibold mb-2"},ve={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},we={class:"flex items-center w-full"},ye={class:"text-sm text-gray-600 font-semibold"},ke=e("hr",{scope:"",class:"mx-auto w-4/5 border-0 h-[0.5px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),Ce={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},Se={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center"},$e=e("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Detalles de pago",-1),je={key:0,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},De=e("span",{class:"text-sm text-gray-600 font-semibold mb-2"},"Los detalles la cuenta bancaria de este pago no est\xE1n disponibles, por favor revisa el comprobante.",-1),Pe={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},Le={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Ue={key:2,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Ve={key:1,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},Me={key:0,class:"flex"},Fe=e("span",{class:"text-sm text-gray-600 mr-1"},"Gerente: ",-1),Ee=e("span",{class:"text-sm font-semibold text-dark-brand"},"Fernando Escobar Bermudez",-1),Te=[Fe,Ee],ze={key:1,class:"font-semibold"},Be={key:2,class:"flex"},Re=e("span",{class:"text-sm text-gray-600 mr-1"},"C\xE9dula: ",-1),Ae=e("span",{class:"text-sm font-semibold text-dark-brand"},"1.111.198.204",-1),Ne=[Re,Ae],Ie={key:3,class:"flex"},Je=e("span",{class:"text-sm text-gray-600 mr-1"},"NIT: ",-1),Oe=e("span",{class:"text-sm font-semibold text-dark-brand"},"901.422.406",-1),Ye=[Je,Oe],qe={class:"flex"},Ge=e("span",{class:"text-sm text-gray-600 mr-1"},"Banco: ",-1),He={class:"text-sm font-semibold text-dark-brand"},Ke={class:"flex"},Qe=e("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: ",-1),We={class:"text-sm font-semibold text-dark-brand"},Xe={class:"flex mb-2"},Ze=e("span",{class:"text-sm text-gray-600 mr-1"},"Tipo de Cuenta: ",-1),et={class:"text-sm font-semibold text-dark-brand"},tt={key:4,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},st={key:5,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},ot={key:6,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},at={key:2,class:"flex flex-col justify-between items-center mt-5"},nt=l(" Ver Comprobante "),it=l(" Comprobante de transferencia "),lt=["src"],dt=l(" Cerrar "),rt={key:3,class:"mt-5"},ct={class:"mb-4"},mt={key:0,class:"block rounded-lg w-full sm:w-auto mx-auto text-gray-500 text-sm text-center"},ut=l(),pt={key:0},ft={key:1},ht=l(" Enviar "),_t={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},bt=e("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Resumen de la transacci\xF3n",-1),xt={class:"rounded-lg text-dark-brand w-80 flex flex-col items-center"},gt={class:"flex justify-between items-center w-full"},vt=e("span",{class:"text-sm text-gray-600 mr-1"},"Monto USD: ",-1),wt={class:"font-semibold text-dark-brand"},yt={class:"flex justify-between items-center w-full"},kt=e("span",{class:"text-sm text-gray-600 mr-1"},"Monto COP: ",-1),Ct={class:"font-semibold text-dark-brand"},St={class:"flex justify-between items-center w-full"},$t=e("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto 4x1000: ",-1),jt={class:"font-semibold text-dark-brand"},Dt={class:"flex justify-between items-center w-full"},Pt=e("span",{class:"text-sm text-gray-600 mr-1"},"Comisi\xF3n: ",-1),Lt={class:"font-semibold text-dark-brand"},Ut={class:"flex justify-between items-center w-full"},Vt=e("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto IVA: ",-1),Mt={class:"font-semibold text-dark-brand"},Ft={class:"flex justify-between items-center w-full"},Et=e("span",{class:"text-sm text-gray-600 mr-1"},"Descuento VIP: ",-1),Tt={class:"font-semibold text-dark-brand"},zt=e("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-5"},null,-1),Bt={class:"flex justify-between items-center w-full"},Rt=e("span",{class:"text-base text-dark-brand mr-1"},"Total a pagar COP: ",-1),At={class:"font-semibold text-dark-brand"},Nt=e("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),It={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},Jt={class:"col-span-3 flex flex-col justify-between items-center mb-5"},Ot=l(" Cambiar estado "),Yt=l(" Cambiar estado de la transacci\xF3n "),qt={class:"my-2"},Gt=l(" Cambio de estado "),Ht={class:"my-2 mt-3"},Kt={class:"w-full"},Qt=l(" Cambiar "),Wt=l(" Cerrar "),Xt={class:"col-span-3 flex flex-col justify-between items-center mb-5"},Zt=l(" Eliminar "),es=l(" Eliminar transacci\xF3n "),ts=l(" \xBFSeguro que quieres eliminar esta transacci\xF3n? "),ss=l(" Eliminar "),os=l(" Cerrar ");function as(t,o,p,w,ns,is){const b=c("Link"),f=c("jet-button"),h=c("jet-secondary-button"),x=c("jet-dialog-modal"),y=c("font-awesome-icon"),k=c("Select"),C=c("Label"),g=c("DangerButton"),S=c("ConfirmationModal"),$=c("app-layout-admin");return a(),D($,{title:"Detalle del dep\xF3sito"},{header:s(()=>[e("h2",G,[i(b,{href:t.route("dashboard"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:s(()=>[H]),_:1},8,["href"]),i(b,{href:t.route("deposit.index"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:s(()=>[K]),_:1},8,["href"]),Q])]),default:s(()=>[e("div",W,[e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[e("div",{class:m([{"md:col-span-6":!t.deposit.comment},"col-span-6 md:col-span-3 flex flex-col justify-between items-center"])},[se,e("div",oe,[e("span",ae,[ne,e("span",ie,d(t.deposit.user.name+" "+t.deposit.user.lastname),1)]),e("span",le,[de,e("span",{class:m([{"text-green-500":t.deposit.transactionable.broker.id===1,"text-blue-800":t.deposit.transactionable.broker.id===2},"text-sm font-semibold"])},d(t.deposit.transactionable.broker.name),3)]),e("span",re,[ce,e("span",me,d(t.deposit.transactionable.number),1)]),e("span",ue,[pe,e("span",fe,d(t.dateFormat(t.deposit.application_date)),1)]),t.deposit.completed_date?(a(),n("span",he,[_e,e("span",be,d(t.dateFormat(t.deposit.completed_date)),1)])):u("",!0)])],2),e("div",xe,[t.deposit.comment?(a(),n("h2",ge,"Comentarios")):u("",!0),e("div",ve,[e("span",we,[e("span",ye,d(t.deposit.comment),1)])])])]),ke,e("div",Ce,[e("div",Se,[$e,t.deposit.account.number==="000000000"?(a(),n("div",je,[De,t.deposit.status==="Realizado"?(a(),n("span",Pe," Pago Realizado ")):t.deposit.status==="Pendiente"?(a(),n("span",Le," Procesando ... ")):t.deposit.status==="Cancelado"?(a(),n("span",Ue," Transacci\xF3n Rechazada ")):u("",!0)])):(a(),n("div",Ve,[t.deposit.account_id!==3?(a(),n("span",Me,Te)):(a(),n("span",ze,"ExchangeLatam SAS")),t.deposit.account_id!==3?(a(),n("span",Be,Ne)):(a(),n("span",Ie,Ye)),e("span",qe,[Ge,e("span",He,d(t.deposit.account.bank.name),1)]),e("span",Ke,[Qe,e("span",We,d(t.deposit.account.number),1)]),e("span",Xe,[Ze,e("span",et,d(t.deposit.account.type),1)]),t.deposit.status==="Realizado"?(a(),n("span",tt," Pago Realizado ")):t.deposit.status==="Pendiente"?(a(),n("span",st," Procesando ... ")):t.deposit.status==="Cancelado"?(a(),n("span",ot," Transacci\xF3n Rechazada ")):u("",!0)])),t.voucherExist?(a(),n("div",rt,[v(e("div",ct,[e("span",{class:"block rounded-lg w-32 h-36 bg-cover bg-no-repeat bg-center mx-auto",style:U("background-image: url('"+t.voucherPreview+"');")},null,4),t.voucherPreview?(a(),n("span",mt,d(t.$refs.voucherUp.files[0].name),1)):u("",!0)],512),[[L,t.voucherPreview]]),e("form",{onSubmit:o[1]||(o[1]=_((...r)=>t.submit&&t.submit(...r),["prevent"])),class:"flex flex-col justify-between items-center"},[e("input",{type:"file",class:"hidden",ref:"voucherUp",onChange:o[0]||(o[0]=(...r)=>t.updateVoucherPreview&&t.updateVoucherPreview(...r))},null,544),i(h,{onClick:_(t.selectFile,["prevent"]),class:"mx-auto mb-4"},{default:s(()=>[i(y,{class:"mr-2",icon:["fas","upload"],size:"sm"}),ut,t.voucherPreview?(a(),n("span",pt,"Cambiar")):(a(),n("span",ft,"Seleccione archivo"))]),_:1},8,["onClick"]),i(f,{class:m({"opacity-25":t.form.processing}),disabled:t.form.processing},{default:s(()=>[ht]),_:1},8,["class","disabled"])],32)])):(a(),n("div",at,[i(f,{onClick:t.showVoucher,class:"mx-auto",disabled:t.voucherExist},{default:s(()=>[nt]),_:1},8,["onClick","disabled"]),i(x,{show:t.voucherShow,onClose:t.closeModal},{title:s(()=>[it]),content:s(()=>[e("img",{src:t.voucher,alt:"No se pudo cargar el comprobante"},null,8,lt)]),footer:s(()=>[i(h,{onClick:t.closeModal},{default:s(()=>[dt]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]))]),e("div",_t,[bt,e("div",xt,[e("span",gt,[vt,e("span",wt,"$ "+d(t.deposit.amount_usd.toLocaleString()),1)]),e("span",yt,[kt,e("span",Ct,"$ "+d(t.deposit.amount_cop.toLocaleString()),1)]),e("span",St,[$t,e("span",jt,"$ "+d(t.deposit.cuatro_por_mil.toLocaleString()),1)]),e("span",Dt,[Pt,e("span",Lt,"$ "+d(t.deposit.comission.toLocaleString()),1)]),e("span",Ut,[Vt,e("span",Mt,"$ "+d(t.deposit.iva.toLocaleString()),1)]),e("span",Ft,[Et,e("span",Tt,"$ "+d(t.deposit.rebate.toLocaleString()),1)]),zt,e("span",Bt,[Rt,e("span",At,"$ "+d(t.deposit.total.toLocaleString()),1)])])])]),Nt,e("div",It,[e("div",Jt,[i(f,{onClick:t.changeStatus,class:"mx-auto"},{default:s(()=>[Ot]),_:1},8,["onClick"]),i(x,{show:t.statusChange,onClose:t.changeStatus},{title:s(()=>[Yt]),content:s(()=>[e("form",{onSubmit:o[4]||(o[4]=_((...r)=>t.submitStatus&&t.submitStatus(...r),["prevent"]))},[e("div",qt,[i(k,{selectable:t.status,selected:t.formStatus.status,modelValue:t.formStatus.status,"onUpdate:modelValue":o[2]||(o[2]=r=>t.formStatus.status=r)},{title:s(()=>[Gt]),_:1},8,["selectable","selected","modelValue"])]),e("div",Ht,[i(C,{for:"comments",value:"Comentarios"}),v(e("textarea",{class:"w-full text-gray-600 border-dark-brand focus:border-blue-brand focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",name:"comments",id:"comments",rows:"2",placeholder:"Escribe un comentario","onUpdate:modelValue":o[3]||(o[3]=r=>t.formStatus.comments=r)},null,512),[[V,t.formStatus.comments]])]),e("div",Kt,[i(f,{class:m([{"opacity-25":t.formStatus.processing},"mr-4 mx-auto"]),disabled:t.formStatus.processing},{default:s(()=>[Qt]),_:1},8,["class","disabled"])])],32)]),footer:s(()=>[i(h,{onClick:t.changeStatus},{default:s(()=>[Wt]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]),e("div",Xt,[i(g,{onClick:t.deleteTransaction,class:"mx-auto"},{default:s(()=>[Zt]),_:1},8,["onClick"]),i(S,{show:t.delete,onClose:t.deleteTransaction},{title:s(()=>[es]),content:s(()=>[ts]),footer:s(()=>[e("form",{onSubmit:o[5]||(o[5]=_((...r)=>t.submitDelete&&t.submitDelete(...r),["prevent"])),class:"mr-4"},[i(g,{class:m({"opacity-25":t.formDelete.processing}),disabled:t.formDelete.processing},{default:s(()=>[ss]),_:1},8,["class","disabled"])],32),i(h,{onClick:t.deleteTransaction},{default:s(()=>[os]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])])])])])])]),_:1})}const js=Y(q,[["render",as]]);export{js as default};
