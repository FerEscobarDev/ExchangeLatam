import{i as D,j as d,o as s,c as P,w as o,L as U,a as t,b as i,t as n,n as h,d as a,e as m,m as y,v as L,M as V,k as p,N as E,h as r}from"./app.7999cf1f.js";import{A as T}from"./AppLayoutAdmin.48131d6e.js";import{_ as z}from"./DialogModal.dcac158a.js";import{_ as F}from"./Button.16f645a9.js";import{_ as M}from"./SecondaryButton.6ad1e4b6.js";import{_ as A}from"./DangerButton.b060c195.js";import{_ as B}from"./InputError.3c8fe43a.js";import{J as R}from"./Select.0518b346.js";import{_ as I}from"./Label.1bb1cfa0.js";import{_ as N}from"./ConfirmationModal.16f4dbfb.js";import{l as J,F as W}from"./index.es.b629d8a8.js";import{j as q}from"./index.es.4d3c31b3.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import"./NavLink.d6db4fac.js";import"./Modal.96eea86a.js";import"./use-resolve-button-type.ff85f682.js";import"./open-closed.0d255475.js";import"./hidden.b8fa9f2a.js";import"./CheckIcon.b1b972e8.js";import"./logoweb.554f3f4d.js";J.add(q);const G=D({components:{AppLayoutAdmin:T,Link:U,JetDialogModal:z,JetSecondaryButton:M,JetButton:F,DangerButton:A,FontAwesomeIcon:W,InputError:B,Select:R,Label:I,ConfirmationModal:N},props:{transaction:Object,voucher:String},setup(e){return{status:[{id:1,name:"Pendiente"},{id:2,name:"Realizado"},{id:3,name:"Cancelado"}]}},data(){return{voucherShow:!1,voucherExist:this.voucher===null,form:this.$inertia.form({_method:"PUT",voucherUp:null}),formStatus:this.$inertia.form({_method:"PUT",status:this.status[0],comments:null}),formDelete:this.$inertia.form({_method:"delete"}),voucherPreview:null,statusChange:!1,delete:!1}},methods:{dateFormat(e){let l=new Date(e);const u=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return l.getDate()+"-"+u[l.getMonth()]+"-"+l.getFullYear()},showVoucher(){this.voucherShow=!0},closeModal(){this.voucherShow=!1},changeStatus(){this.statusChange?this.statusChange=!1:this.statusChange=!0},deleteTransaction(){this.delete?this.delete=!1:this.delete=!0},submit(){this.$refs.voucherUp&&(this.form.voucherUp=this.$refs.voucherUp.files[0]),this.form.post(this.route("admin.voucherUpWalletExchange",this.transaction.id),{onSuccess:()=>this.clearFileInput()})},submitDelete(){this.formDelete.post(this.route("admin.destroyWalletExchange",this.transaction.id))},submitStatus(){this.formStatus.post(this.route("admin.statusWalletExchange",this.transaction.id),{onSuccess:()=>this.changeStatus()})},selectFile(){this.$refs.voucherUp.click()},updateVoucherPreview(){const e=this.$refs.voucherUp.files[0];if(this.voucher,!e)return;const l=new FileReader;l.onload=u=>{this.voucherPreview=u.target.result},l.readAsDataURL(e)},clearFileInput(){var e;(e=this.$refs.voucherUp)!=null&&e.value&&(this.$refs.voucherUp.value=null,this.voucherExist=!1,this.voucherPreview=null)},transactionType(e){if(e.type===0)return"Retiro";if(e.type===1)return"Dep\xF3sito";if(e.type===2)return"Compra de saldo";if(e.type===3)return"Venta de saldo"}}}),Y={class:"font-semibold text-xl text-gray-700 leading-tight"},H=r("Dashboard/"),K=r("Perfil del Usuario/"),Q=r("Vista Detallada "),X={class:"py-6 w-full"},Z={class:"flex mx-auto lg:mr-4"},tt={class:"container mx-auto sm:px-6 lg:px-8"},et={class:"bg-white shadow-xl sm:rounded-lg flex flex-col"},st={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 mt-5 h-min"},ot={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center"},at=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"}," Detalles de la transacci\xF3n ",-1),nt={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},lt={class:"flex justify-between items-center w-full"},it=t("span",{class:"text-sm text-gray-600 mr-2"},"Cliente: ",-1),rt={class:"text-md font-semibold text-dark-brand"},ct={class:"flex justify-between items-center w-full"},dt=t("span",{class:"text-sm text-gray-600 mr-2"},"Tipo: ",-1),mt={class:"text-sm font-semibold"},ut={class:"flex justify-between items-center w-full"},_t=t("span",{class:"text-sm text-gray-600 mr-2"},"Wallet: ",-1),ft={class:"flex justify-between items-center w-full"},ht=t("span",{class:"text-sm text-gray-600 mr-2"},"Cuenta: ",-1),pt={class:"text-sm font-semibold text-dark-brand"},bt={class:"flex justify-between items-center w-full"},xt=t("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de solicitud: ",-1),gt={class:"text-sm font-semibold text-dark-brand"},yt={key:0,class:"flex justify-between items-center w-full"},wt=t("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de finalizaci\xF3n: ",-1),vt={class:"text-sm font-semibold text-dark-brand"},kt={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},Ct={key:0,class:"text-lg text-dark-brand font-semibold mb-2"},St={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},jt={class:"flex items-center w-full"},$t={class:"text-sm text-gray-600 font-semibold"},Dt=t("hr",{scope:"",class:"mx-auto w-4/5 border-0 h-[0.5px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),Pt={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},Ut={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center"},Lt=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Detalles de pago",-1),Vt={class:"rounded-lg text-dark-brand w-80 flex flex-col items-center pb-3"},Et={key:0,class:"flex justify-between items-center w-full"},Tt=t("span",{class:"text-sm text-gray-600 mr-1"},"Confirma que el cliente haya realizado el pago a la cuenta bancaria:",-1),zt=[Tt],Ft={key:1,class:"flex justify-between items-center w-full"},Mt=t("span",{class:"text-sm text-gray-600 mr-1"},"Confirma que el cliente haya realizado el pago a la cuenta Skrill:",-1),At=[Mt],Bt={key:0,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},Rt={key:0,class:"flex"},It=t("span",{class:"text-sm text-gray-600 mr-1"},"Gerente: ",-1),Nt=t("span",{class:"text-sm font-semibold text-dark-brand"},"Fernando Escobar Bermudez",-1),Jt=[It,Nt],Wt={key:1,class:"font-semibold"},qt={key:2,class:"flex"},Ot=t("span",{class:"text-sm text-gray-600 mr-1"},"C\xE9dula: ",-1),Gt=t("span",{class:"text-sm font-semibold text-dark-brand"},"1.111.198.204",-1),Yt=[Ot,Gt],Ht={key:3,class:"flex"},Kt=t("span",{class:"text-sm text-gray-600 mr-1"},"NIT: ",-1),Qt=t("span",{class:"text-sm font-semibold text-dark-brand"},"901.422.406",-1),Xt=[Kt,Qt],Zt={class:"flex"},te=t("span",{class:"text-sm text-gray-600 mr-1"},"Banco: ",-1),ee={class:"text-sm font-semibold text-dark-brand"},se={class:"flex"},oe=t("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: ",-1),ae={class:"text-sm font-semibold text-dark-brand"},ne={class:"flex mb-2"},le=t("span",{class:"text-sm text-gray-600 mr-1"},"Tipo de Cuenta: ",-1),ie={class:"text-sm font-semibold text-dark-brand"},re={key:4,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},ce={key:5,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},de={key:6,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},me={key:1,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},ue=t("span",{class:"flex"},[t("span",{class:"text-sm text-gray-600 mr-1"},"Wallet: "),t("span",{class:"text-sm font-semibold text-dark-brand"},"Skrill")],-1),_e=t("span",{class:"flex"},[t("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: "),t("span",{class:"text-sm font-semibold text-dark-brand"},"admin@exchangelatam.com")],-1),fe=[ue,_e],he={key:2,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start mt-4"},pe={key:0,class:"flex"},be=t("span",{class:"text-sm text-gray-600 mr-1"},"Realiza el pago a esta cuenta bancaria:",-1),xe=[be],ge={class:"flex"},ye=t("span",{class:"text-sm text-gray-600 mr-1"},"Banco: ",-1),we={class:"text-sm font-semibold text-dark-brand"},ve={class:"flex"},ke=t("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: ",-1),Ce={class:"text-sm font-semibold text-dark-brand"},Se={class:"flex mb-2"},je=t("span",{class:"text-sm text-gray-600 mr-1"},"Tipo de Cuenta: ",-1),$e={class:"text-sm font-semibold text-dark-brand"},De={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},Pe={key:2,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Ue={key:3,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Le={key:3,class:"flex flex-col justify-between items-center mt-5"},Ve=r(" Ver Comprobante "),Ee=r(" Comprobante de transferencia "),Te=["src"],ze=r(" Cerrar "),Fe={key:4,class:"mt-5"},Me={class:"mb-4"},Ae={key:0,class:"block rounded-lg w-full sm:w-auto mx-auto text-gray-500 text-sm text-center"},Be=r(),Re={key:0},Ie={key:1},Ne=r(" Enviar "),Je={class:"col-span-6 md:col-span-3 flex flex-col justify-start items-center mt-5 md:mt-0"},We=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Resumen de la transacci\xF3n",-1),qe={class:"rounded-lg text-dark-brand w-80 flex flex-col items-center"},Oe={class:"flex justify-between items-center w-full"},Ge=t("span",{class:"text-sm text-gray-600 mr-1"},"Monto USD: ",-1),Ye={class:"font-semibold text-dark-brand"},He={class:"flex justify-between items-center w-full"},Ke=t("span",{class:"text-sm text-gray-600 mr-1"},"Monto COP: ",-1),Qe={class:"font-semibold text-dark-brand"},Xe={class:"flex justify-between items-center w-full"},Ze=t("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto 4x1000: ",-1),ts={class:"font-semibold text-dark-brand"},es={class:"flex justify-between items-center w-full"},ss=t("span",{class:"text-sm text-gray-600 mr-1"},"Comisi\xF3n: ",-1),os={class:"font-semibold text-dark-brand"},as={class:"flex justify-between items-center w-full"},ns=t("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto IVA: ",-1),ls={class:"font-semibold text-dark-brand"},is={class:"flex justify-between items-center w-full"},rs=t("span",{class:"text-sm text-gray-600 mr-1"},"Descuento VIP: ",-1),cs={class:"font-semibold text-dark-brand"},ds=t("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-5"},null,-1),ms={class:"flex justify-between items-center w-full"},us=t("span",{class:"text-base text-dark-brand mr-1"},"Total a pagar COP: ",-1),_s={class:"font-semibold text-dark-brand"},fs=t("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),hs={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},ps={class:"col-span-3 flex flex-col justify-between items-center mb-5"},bs=r(" Cambiar estado "),xs=r(" Cambiar estado de la transacci\xF3n "),gs={class:"my-2"},ys=r(" Cambio de estado "),ws={class:"my-2 mt-3"},vs={class:"w-full"},ks=r(" Cambiar "),Cs=r(" Cerrar "),Ss={class:"col-span-3 flex flex-col justify-between items-center mb-5"},js=r(" Eliminar "),$s=r(" Eliminar transacci\xF3n "),Ds=r(" \xBFSeguro que quieres eliminar esta transacci\xF3n? "),Ps=r(" Eliminar "),Us=r(" Cerrar ");function Ls(e,l,u,w,Vs,Es){const b=d("Link"),_=d("jet-button"),f=d("jet-secondary-button"),x=d("jet-dialog-modal"),v=d("font-awesome-icon"),k=d("input-error"),C=d("Select"),S=d("Label"),g=d("DangerButton"),j=d("ConfirmationModal"),$=d("AppLayoutAdmin");return s(),P($,{title:"Detalle del dep\xF3sito"},{header:o(()=>[t("h2",Y,[i(b,{href:e.route("admin.dashboard"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:o(()=>[H]),_:1},8,["href"]),i(b,{href:e.route("admin.userShow",e.transaction.user_id),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:o(()=>[K]),_:1},8,["href"]),Q])]),default:o(()=>[t("div",X,[t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("div",ot,[at,t("div",nt,[t("span",lt,[it,t("span",rt,n(e.transaction.user.name+" "+e.transaction.user.lastname),1)]),t("span",ct,[dt,t("span",mt,n(e.transactionType(e.transaction)),1)]),t("span",ut,[_t,t("span",{class:h([{"text-rose-800":e.transaction.transactionable.wallet.id===1,"text-green-500":e.transaction.transactionable.wallet.id===2},"text-sm font-semibold"])},n(e.transaction.transactionable.wallet.name),3)]),t("span",ft,[ht,t("span",pt,n(e.transaction.transactionable.email),1)]),t("span",bt,[xt,t("span",gt,n(e.dateFormat(e.transaction.application_date)),1)]),e.transaction.completed_date?(s(),a("span",yt,[wt,t("span",vt,n(e.dateFormat(e.transaction.completed_date)),1)])):m("",!0)])]),t("div",kt,[e.transaction.comment?(s(),a("h2",Ct,"Comentarios")):m("",!0),t("div",St,[t("span",jt,[t("span",$t,n(e.transaction.comment),1)])])])]),Dt,t("div",Pt,[t("div",Ut,[Lt,t("div",Vt,[e.transaction.type===2?(s(),a("span",Et,zt)):(s(),a("span",Ft,At))]),e.transaction.type===2?(s(),a("div",Bt,[e.transaction.account_id!==3?(s(),a("span",Rt,Jt)):(s(),a("span",Wt,"ExchangeLatam SAS")),e.transaction.account_id!==3?(s(),a("span",qt,Yt)):(s(),a("span",Ht,Xt)),t("span",Zt,[te,t("span",ee,n(e.transaction.account.bank.name),1)]),t("span",se,[oe,t("span",ae,n(e.transaction.account.number),1)]),t("span",ne,[le,t("span",ie,n(e.transaction.account.type),1)]),e.transaction.status==="Realizado"?(s(),a("span",re," Pago Realizado ")):e.transaction.status==="Pendiente"?(s(),a("span",ce," Procesando ... ")):e.transaction.status==="Cancelado"?(s(),a("span",de," Transacci\xF3n Rechazada ")):m("",!0)])):(s(),a("div",me,fe)),e.transaction.type===3?(s(),a("div",he,[e.transaction.account_id!==3?(s(),a("span",pe,xe)):m("",!0),t("span",ge,[ye,t("span",we,n(e.transaction.account.bank.name),1)]),t("span",ve,[ke,t("span",Ce,n(e.transaction.account.number),1)]),t("span",Se,[je,t("span",$e,n(e.transaction.account.type),1)]),e.transaction.status==="Realizado"?(s(),a("span",De," Pago Realizado ")):e.transaction.status==="Pendiente"?(s(),a("span",Pe," Procesando ... ")):e.transaction.status==="Cancelado"?(s(),a("span",Ue," Transacci\xF3n Rechazada ")):m("",!0)])):m("",!0),e.voucherExist?(s(),a("div",Fe,[y(t("div",Me,[t("span",{class:"block rounded-lg w-32 h-36 bg-cover bg-no-repeat bg-center mx-auto",style:V("background-image: url('"+e.voucherPreview+"');")},null,4),e.voucherPreview?(s(),a("span",Ae,n(e.$refs.voucherUp.files[0].name),1)):m("",!0)],512),[[L,e.voucherPreview]]),t("form",{onSubmit:l[1]||(l[1]=p((...c)=>e.submit&&e.submit(...c),["prevent"])),class:"flex flex-col justify-between items-center"},[t("input",{type:"file",class:"hidden",ref:"voucherUp",onChange:l[0]||(l[0]=(...c)=>e.updateVoucherPreview&&e.updateVoucherPreview(...c))},null,544),i(f,{onClick:p(e.selectFile,["prevent"]),class:"mx-auto mb-4"},{default:o(()=>[i(v,{class:"mr-2",icon:["fas","upload"],size:"sm"}),Be,e.voucherPreview?(s(),a("span",Re,"Cambiar")):(s(),a("span",Ie,"Seleccione archivo"))]),_:1},8,["onClick"]),i(_,{class:h({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:o(()=>[Ne]),_:1},8,["class","disabled"])],32),i(k,{message:e.form.errors.voucherUp,class:"mt-2"},null,8,["message"])])):(s(),a("div",Le,[i(_,{onClick:e.showVoucher,class:"mx-auto",disabled:e.voucherExist},{default:o(()=>[Ve]),_:1},8,["onClick","disabled"]),i(x,{show:e.voucherShow,onClose:e.closeModal},{title:o(()=>[Ee]),content:o(()=>[t("img",{src:e.voucher,alt:"No se pudo cargar el comprobante"},null,8,Te)]),footer:o(()=>[i(f,{onClick:e.closeModal},{default:o(()=>[ze]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]))]),t("div",Je,[We,t("div",qe,[t("span",Oe,[Ge,t("span",Ye,"$ "+n(e.transaction.amount_usd.toLocaleString()),1)]),t("span",He,[Ke,t("span",Qe,"$ "+n(e.transaction.amount_cop.toLocaleString()),1)]),t("span",Xe,[Ze,t("span",ts,"$ "+n(e.transaction.cuatro_por_mil.toLocaleString()),1)]),t("span",es,[ss,t("span",os,"$ "+n(e.transaction.comission.toLocaleString()),1)]),t("span",as,[ns,t("span",ls,"$ "+n(e.transaction.iva.toLocaleString()),1)]),t("span",is,[rs,t("span",cs,"$ "+n(e.transaction.rebate.toLocaleString()),1)]),ds,t("span",ms,[us,t("span",_s,"$ "+n(e.transaction.total.toLocaleString()),1)])])])]),fs,t("div",hs,[t("div",ps,[i(_,{onClick:e.changeStatus,class:"mx-auto"},{default:o(()=>[bs]),_:1},8,["onClick"]),i(x,{show:e.statusChange,onClose:e.changeStatus},{title:o(()=>[xs]),content:o(()=>[t("form",{onSubmit:l[4]||(l[4]=p((...c)=>e.submitStatus&&e.submitStatus(...c),["prevent"]))},[t("div",gs,[i(C,{selectable:e.status,selected:e.formStatus.status,modelValue:e.formStatus.status,"onUpdate:modelValue":l[2]||(l[2]=c=>e.formStatus.status=c)},{title:o(()=>[ys]),_:1},8,["selectable","selected","modelValue"])]),t("div",ws,[i(S,{for:"comments",value:"Comentarios"}),y(t("textarea",{class:"w-full text-gray-600 border-dark-brand focus:border-blue-brand focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",name:"comments",id:"comments",rows:"2",placeholder:"Escribe un comentario","onUpdate:modelValue":l[3]||(l[3]=c=>e.formStatus.comments=c)},null,512),[[E,e.formStatus.comments]])]),t("div",vs,[i(_,{class:h([{"opacity-25":e.formStatus.processing},"mr-4 mx-auto"]),disabled:e.formStatus.processing},{default:o(()=>[ks]),_:1},8,["class","disabled"])])],32)]),footer:o(()=>[i(f,{onClick:e.changeStatus},{default:o(()=>[Cs]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]),t("div",Ss,[i(g,{onClick:e.deleteTransaction,class:"mx-auto"},{default:o(()=>[js]),_:1},8,["onClick"]),i(j,{show:e.delete,onClose:e.deleteTransaction},{title:o(()=>[$s]),content:o(()=>[Ds]),footer:o(()=>[t("form",{onSubmit:l[5]||(l[5]=p((...c)=>e.submitDelete&&e.submitDelete(...c),["prevent"])),class:"mr-4"},[i(g,{class:h({"opacity-25":e.formDelete.processing}),disabled:e.formDelete.processing},{default:o(()=>[Ps]),_:1},8,["class","disabled"])],32),i(f,{onClick:e.deleteTransaction},{default:o(()=>[Us]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])])])])])])]),_:1})}const to=O(G,[["render",Ls]]);export{to as default};
