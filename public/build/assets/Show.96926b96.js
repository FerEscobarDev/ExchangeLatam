import{i as D,j as c,o as a,c as P,w as s,L as U,a as t,b as n,n as m,t as l,d as i,e as u,m as x,v as L,N as V,k as p,O as M,h as r}from"./app.ccfad349.js";import{A as F}from"./AppLayoutAdmin.e99c99a1.js";import{_ as B}from"./DialogModal.e64ae5dc.js";import{_ as E}from"./ConfirmationModal.f0d2ce29.js";import{_ as T}from"./Button.0649b674.js";import{_ as z}from"./SecondaryButton.79bb7bc3.js";import{l as R,F as A}from"./index.es.f2285435.js";import{j as I}from"./index.es.4d3c31b3.js";import{_ as N}from"./DangerButton.00b0b491.js";import{_ as J}from"./InputError.e1b6a1ef.js";import{J as O}from"./Select.6f0812b4.js";import{_ as Y}from"./Label.abddad45.js";import{d as W}from"./dayjs.min.8746b300.js";import{_ as q}from"./_plugin-vue_export-helper.cdc0426e.js";import"./NavLink.79d52f70.js";import"./Modal.7473a458.js";import"./logoweb.554f3f4d.js";import"./use-resolve-button-type.710a5a1c.js";import"./open-closed.e7aa7007.js";import"./hidden.9f8216f0.js";import"./CheckIcon.01f81561.js";R.add(I);const G=D({components:{AppLayoutAdmin:F,Link:U,JetDialogModal:B,JetSecondaryButton:z,JetButton:T,FontAwesomeIcon:A,DangerButton:N,ConfirmationModal:E,Select:O,Label:Y,InputError:J},props:{withdrawal:Object,voucher:String},setup(e){return{status:[{id:1,name:"Pendiente"},{id:2,name:"Realizado"},{id:3,name:"Cancelado"}]}},data(){return{voucherShow:!1,voucherExist:this.voucher===null,form:this.$inertia.form({_method:"PUT",voucherUp:null}),formStatus:this.$inertia.form({_method:"PUT",status:this.status[0],comments:null}),formDelete:this.$inertia.form({_method:"delete"}),voucherPreview:null,statusChange:!1,delete:!1}},methods:{dateFormat(e){let o=W(e,"YYYY-MM-DD");const h=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return o.$D+"-"+h[o.$M]+"-"+o.$y},showVoucher(){this.voucherShow=!0},closeModal(){this.voucherShow=!1},changeStatus(){this.statusChange?this.statusChange=!1:this.statusChange=!0},deleteTransaction(){this.delete?this.delete=!1:this.delete=!0},submit(){this.$refs.voucherUp&&(this.form.voucherUp=this.$refs.voucherUp.files[0]),this.form.post(this.route("admin.voucherUpWithdrawal",this.withdrawal.id),{onSuccess:()=>this.clearFileInput()})},submitDelete(){this.formDelete.post(this.route("admin.destroyWithdrawal",this.withdrawal.id))},submitStatus(){this.formStatus.post(this.route("admin.statusWithdrawal",this.withdrawal.id),{onSuccess:()=>this.changeStatus()})},selectFile(){this.$refs.voucherUp.click()},updateVoucherPreview(){const e=this.$refs.voucherUp.files[0];if(this.voucher,!e)return;const o=new FileReader;o.onload=h=>{this.voucherPreview=h.target.result},o.readAsDataURL(e)},clearFileInput(){var e;(e=this.$refs.voucherUp)!=null&&e.value&&(this.$refs.voucherUp.value=null,this.voucherExist=!1,this.voucherPreview=null)}}}),H={class:"font-semibold text-xl text-gray-700 leading-tight"},K=r("Dashboard/"),Q=r("Retiros de FBS/"),X=r("Vista Detallada "),Z={class:"py-6 w-full"},ee={class:"flex mx-auto lg:mr-4"},te={class:"container mx-auto sm:px-6 lg:px-8"},se={class:"bg-white shadow-xl sm:rounded-lg flex flex-col"},oe={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 mt-5 h-min"},ae=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"}," Detalles de la transacci\xF3n ",-1),ne={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},le={class:"flex justify-between items-center w-full"},ie=t("span",{class:"text-sm text-gray-600 mr-2"},"Cliente: ",-1),re={class:"text-md font-semibold text-dark-brand"},de={class:"flex justify-between items-center w-full"},ce=t("span",{class:"text-sm text-gray-600 mr-2"},"Broker: ",-1),me={class:"flex justify-between items-center w-full"},ue=t("span",{class:"text-sm text-gray-600 mr-2"},"Cuenta de trading: ",-1),he={class:"text-sm font-semibold text-dark-brand"},fe={class:"flex justify-between items-center w-full"},_e=t("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de solicitud: ",-1),pe={class:"text-sm font-semibold text-dark-brand"},be={key:0,class:"flex justify-between items-center w-full"},we=t("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de finalizaci\xF3n: ",-1),ge={class:"text-sm font-semibold text-dark-brand"},xe={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},ve={key:0,class:"text-lg text-dark-brand font-semibold mb-2"},ye={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},ke={class:"flex items-center w-full"},Ce={class:"text-sm text-gray-600 font-semibold"},Se=t("hr",{scope:"",class:"mx-auto w-4/5 border-0 h-[0.5px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),je={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},$e={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center"},De=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Detalles de pago",-1),Pe={key:0,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},Ue=t("span",{class:"text-sm text-gray-600 font-semibold mb-2"},"Los detalles la cuenta bancaria de este pago no est\xE1n disponibles, por favor revisa el comprobante.",-1),Le={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},Ve={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Me={key:2,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Fe={key:1,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},Be={class:"font-semibold"},Ee={class:"flex"},Te={key:0,class:"text-sm text-gray-600 mr-1"},ze={key:1,class:"text-sm text-gray-600 mr-1"},Re={key:2,class:"text-sm text-gray-600 mr-1"},Ae={class:"text-sm font-semibold text-dark-brand"},Ie={class:"flex"},Ne=t("span",{class:"text-sm text-gray-600 mr-1"},"Banco: ",-1),Je={class:"text-sm font-semibold text-dark-brand"},Oe={class:"flex"},Ye=t("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: ",-1),We={class:"text-sm font-semibold text-dark-brand"},qe={class:"flex mb-2"},Ge=t("span",{class:"text-sm text-gray-600 mr-1"},"Tipo de Cuenta: ",-1),He={class:"text-sm font-semibold text-dark-brand"},Ke={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},Qe={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Xe={key:2,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800 mx-auto"},Ze={key:2,class:"flex flex-col justify-between items-center mt-5"},et=r(" Ver Comprobante "),tt=r(" Comprobante de transferencia "),st=["src"],ot=r(" Cerrar "),at={key:3,class:"mt-5"},nt={class:"mb-4"},lt={key:0,class:"block rounded-lg w-full sm:w-auto mx-auto text-gray-500 text-sm text-center"},it=r(),rt={key:0},dt={key:1},ct=r(" Enviar "),mt={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},ut=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Resumen de la transacci\xF3n",-1),ht={class:"rounded-lg text-dark-brand w-80 flex flex-col items-center"},ft={class:"flex justify-between items-center w-full"},_t=t("span",{class:"text-sm text-gray-600 mr-1"},"Monto USD: ",-1),pt={class:"font-semibold text-dark-brand"},bt={class:"flex justify-between items-center w-full"},wt=t("span",{class:"text-sm text-gray-600 mr-1"},"Monto COP: ",-1),gt={class:"font-semibold text-dark-brand"},xt={class:"flex justify-between items-center w-full"},vt=t("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto 4x1000: ",-1),yt={class:"font-semibold text-dark-brand"},kt={class:"flex justify-between items-center w-full"},Ct=t("span",{class:"text-sm text-gray-600 mr-1"},"Comisi\xF3n: ",-1),St={class:"font-semibold text-dark-brand"},jt={class:"flex justify-between items-center w-full"},$t=t("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto IVA: ",-1),Dt={class:"font-semibold text-dark-brand"},Pt={class:"flex justify-between items-center w-full"},Ut=t("span",{class:"text-sm text-gray-600 mr-1"},"Descuento VIP: ",-1),Lt={class:"font-semibold text-dark-brand"},Vt=t("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-5"},null,-1),Mt={class:"flex justify-between items-center w-full"},Ft=t("span",{class:"text-base text-dark-brand mr-1"},"Total a pagar COP: ",-1),Bt={class:"font-semibold text-dark-brand"},Et=t("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),Tt={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},zt={class:"col-span-3 flex flex-col justify-between items-center mb-5"},Rt=r(" Cambiar estado "),At=r(" Cambiar estado de la transacci\xF3n "),It={class:"my-2"},Nt=r(" Cambio de estado "),Jt={class:"my-2 mt-3"},Ot={class:"w-full"},Yt=r(" Cambiar "),Wt=r(" Cerrar "),qt={class:"col-span-3 flex flex-col justify-between items-center mb-5"},Gt=r(" Eliminar "),Ht=r(" Eliminar transacci\xF3n "),Kt=r(" \xBFSeguro que quieres eliminar esta transacci\xF3n? "),Qt=r(" Eliminar "),Xt=r(" Cerrar ");function Zt(e,o,h,v,es,ts){const b=c("Link"),f=c("jet-button"),_=c("jet-secondary-button"),w=c("jet-dialog-modal"),y=c("font-awesome-icon"),k=c("input-error"),C=c("Select"),S=c("Label"),g=c("DangerButton"),j=c("ConfirmationModal"),$=c("app-layout-admin");return a(),P($,{title:"Detalle del retiro"},{header:s(()=>[t("h2",H,[n(b,{href:e.route("dashboard"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:s(()=>[K]),_:1},8,["href"]),n(b,{href:e.route("withdrawal.index"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:s(()=>[Q]),_:1},8,["href"]),X])]),default:s(()=>[t("div",Z,[t("div",ee,[t("div",te,[t("div",se,[t("div",oe,[t("div",{class:m([{"md:col-span-6":!e.withdrawal.comment},"col-span-6 md:col-span-3 flex flex-col justify-between items-center"])},[ae,t("div",ne,[t("span",le,[ie,t("span",re,l(e.withdrawal.user.name+" "+e.withdrawal.user.lastname),1)]),t("span",de,[ce,t("span",{class:m([{"text-green-500":e.withdrawal.transactionable.broker.id===1,"text-blue-800":e.withdrawal.transactionable.broker.id===2},"text-sm font-semibold"])},l(e.withdrawal.transactionable.broker.name),3)]),t("span",me,[ue,t("span",he,l(e.withdrawal.transactionable.number),1)]),t("span",fe,[_e,t("span",pe,l(e.dateFormat(e.withdrawal.application_date)),1)]),e.withdrawal.completed_date?(a(),i("span",be,[we,t("span",ge,l(e.dateFormat(e.withdrawal.completed_date)),1)])):u("",!0)])],2),t("div",xe,[e.withdrawal.comment?(a(),i("h2",ve,"Comentarios")):u("",!0),t("div",ye,[t("span",ke,[t("span",Ce,l(e.withdrawal.comment),1)])])])]),Se,t("div",je,[t("div",$e,[De,e.withdrawal.account.number==="000000000"?(a(),i("div",Pe,[Ue,e.withdrawal.status==="Realizado"?(a(),i("span",Le," Pago Realizado ")):e.withdrawal.status==="Pendiente"?(a(),i("span",Ve," Procesando ... ")):e.withdrawal.status==="Cancelado"?(a(),i("span",Me," Transacci\xF3n Rechazada ")):u("",!0)])):(a(),i("div",Fe,[t("span",Be,l(e.withdrawal.user.name+" "+e.withdrawal.user.lastname),1),t("span",Ee,[e.withdrawal.user.data_user.doc_type===1?(a(),i("span",Te,"C\xE9dula: ")):e.withdrawal.user.data_user.doc_type===2?(a(),i("span",ze,"C\xE9dula de extranjer\xEDa: ")):(a(),i("span",Re,"Pasaporte: ")),t("span",Ae,l(e.withdrawal.user.data_user.doc_num),1)]),t("span",Ie,[Ne,t("span",Je,l(e.withdrawal.account.bank.name),1)]),t("span",Oe,[Ye,t("span",We,l(e.withdrawal.account.number),1)]),t("span",qe,[Ge,t("span",He,l(e.withdrawal.account.type),1)]),e.withdrawal.status==="Realizado"?(a(),i("span",Ke," Pago Realizado ")):e.withdrawal.status==="Pendiente"?(a(),i("span",Qe," Procesando ... ")):e.withdrawal.status==="Cancelado"?(a(),i("span",Xe," Transacci\xF3n Rechazada ")):u("",!0)])),e.voucherExist?(a(),i("div",at,[x(t("div",nt,[t("span",{class:"block rounded-lg w-32 h-36 bg-cover bg-no-repeat bg-center mx-auto",style:V("background-image: url('"+e.voucherPreview+"');")},null,4),e.voucherPreview?(a(),i("span",lt,l(e.$refs.voucherUp.files[0].name),1)):u("",!0)],512),[[L,e.voucherPreview]]),t("form",{onSubmit:o[1]||(o[1]=p((...d)=>e.submit&&e.submit(...d),["prevent"])),class:"flex flex-col justify-between items-center"},[t("input",{type:"file",class:"hidden",ref:"voucherUp",onChange:o[0]||(o[0]=(...d)=>e.updateVoucherPreview&&e.updateVoucherPreview(...d))},null,544),n(_,{onClick:p(e.selectFile,["prevent"]),class:"mx-auto mb-4"},{default:s(()=>[n(y,{class:"mr-2",icon:["fas","upload"],size:"sm"}),it,e.voucherPreview?(a(),i("span",rt,"Cambiar")):(a(),i("span",dt,"Seleccione archivo"))]),_:1},8,["onClick"]),n(f,{class:m({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>[ct]),_:1},8,["class","disabled"])],32),n(k,{message:e.form.errors.voucherUp,class:"mt-2"},null,8,["message"])])):(a(),i("div",Ze,[n(f,{onClick:e.showVoucher,class:"mx-auto",disabled:e.voucherExist},{default:s(()=>[et]),_:1},8,["onClick","disabled"]),n(w,{show:e.voucherShow,onClose:e.closeModal},{title:s(()=>[tt]),content:s(()=>[t("img",{src:e.voucher,alt:"No se pudo cargar el comprobante"},null,8,st)]),footer:s(()=>[n(_,{onClick:e.closeModal},{default:s(()=>[ot]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]))]),t("div",mt,[ut,t("div",ht,[t("span",ft,[_t,t("span",pt,"$ "+l(e.withdrawal.amount_usd.toLocaleString()),1)]),t("span",bt,[wt,t("span",gt,"$ "+l(e.withdrawal.amount_cop.toLocaleString()),1)]),t("span",xt,[vt,t("span",yt,"$ "+l(e.withdrawal.cuatro_por_mil.toLocaleString()),1)]),t("span",kt,[Ct,t("span",St,"$ "+l(e.withdrawal.comission.toLocaleString()),1)]),t("span",jt,[$t,t("span",Dt,"$ "+l(e.withdrawal.iva.toLocaleString()),1)]),t("span",Pt,[Ut,t("span",Lt,"$ "+l(e.withdrawal.rebate.toLocaleString()),1)]),Vt,t("span",Mt,[Ft,t("span",Bt,"$ "+l(e.withdrawal.total.toLocaleString()),1)])])])]),Et,t("div",Tt,[t("div",zt,[n(f,{onClick:e.changeStatus,class:"mx-auto"},{default:s(()=>[Rt]),_:1},8,["onClick"]),n(w,{show:e.statusChange,onClose:e.changeStatus},{title:s(()=>[At]),content:s(()=>[t("form",{onSubmit:o[4]||(o[4]=p((...d)=>e.submitStatus&&e.submitStatus(...d),["prevent"]))},[t("div",It,[n(C,{selectable:e.status,selected:e.formStatus.status,modelValue:e.formStatus.status,"onUpdate:modelValue":o[2]||(o[2]=d=>e.formStatus.status=d)},{title:s(()=>[Nt]),_:1},8,["selectable","selected","modelValue"])]),t("div",Jt,[n(S,{for:"comments",value:"Comentarios"}),x(t("textarea",{class:"w-full text-gray-600 border-dark-brand focus:border-blue-brand focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",name:"comments",id:"comments",rows:"2",placeholder:"Escribe un comentario","onUpdate:modelValue":o[3]||(o[3]=d=>e.formStatus.comments=d)},null,512),[[M,e.formStatus.comments]])]),t("div",Ot,[n(f,{class:m([{"opacity-25":e.formStatus.processing},"mr-4 mx-auto"]),disabled:e.formStatus.processing},{default:s(()=>[Yt]),_:1},8,["class","disabled"])])],32)]),footer:s(()=>[n(_,{onClick:e.changeStatus},{default:s(()=>[Wt]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]),t("div",qt,[n(g,{onClick:e.deleteTransaction,class:"mx-auto"},{default:s(()=>[Gt]),_:1},8,["onClick"]),n(j,{show:e.delete,onClose:e.deleteTransaction},{title:s(()=>[Ht]),content:s(()=>[Kt]),footer:s(()=>[t("form",{onSubmit:o[5]||(o[5]=p((...d)=>e.submitDelete&&e.submitDelete(...d),["prevent"])),class:"mr-4"},[n(g,{class:m({"opacity-25":e.formDelete.processing}),disabled:e.formDelete.processing},{default:s(()=>[Qt]),_:1},8,["class","disabled"])],32),n(_,{onClick:e.deleteTransaction},{default:s(()=>[Xt]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])])])])])])]),_:1})}const ks=q(G,[["render",Zt]]);export{ks as default};
