import{_ as b}from"./Button.8a46fbb0.js";import{J as V}from"./Form.5adab420.js";import{_ as g}from"./Input.b94dc4d7.js";import{_ as S}from"./InputError.30e67f69.js";import{_ as v}from"./Label.94c293f6.js";import{_ as j}from"./ActionMessage.db70f390.js";import{_ as I}from"./SecondaryButton.6caf7ba9.js";import{J as C}from"./Select.9237fb35.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import{i as w,j as f,o as $,c as J,w as _,a as i,b as s,n as k,h}from"./app.8677420d.js";import"./use-resolve-button-type.01d4266c.js";import"./open-closed.2b5869e6.js";import"./hidden.6f6747aa.js";import"./CheckIcon.77577d78.js";const B=w({components:{JetActionMessage:j,JetButton:b,JetForm:V,JetInput:g,JetInputError:S,JetLabel:v,JetSecondaryButton:I,JetSelect:C},props:["client","departaments","cities"],setup(e){let t=[{id:1,name:"C\xE9dula de Ciudadan\xEDa"},{id:2,name:"C\xE9dula de Extranjer\xEDa"},{id:3,name:"Pasaporte"}],a=0,l=null,r=null;e.client.data_user&&(a=e.client.data_user.doc_type,l=e.client.data_user.departament,r=e.client.data_user.city),a===0?t.unshift({id:0,name:"Seleccione",valid:"false"}):a=parseInt(e.client.data_user.doc_type-1);let c=e.departaments,m=-1;l?(m=c.findIndex(p=>p.name===l),m===-1?(c.unshift({id:0,name:"Seleccione"}),l=c[0]):l=c[m]):(c.unshift({id:0,name:"Seleccione"}),l=c[0]);const d=l;let n=e.cities,u=-1;return r?(u=n.findIndex(p=>p.name===r.toLowerCase()),u===-1?(n.unshift({id:0,name:"Seleccione"}),r=n[0]):r=n[u]):(n.unshift({id:0,name:"Seleccione"}),r=n[0]),{departamentInit:d,cityInit:r,type_doc:t,id_doc:a}},data(){return{form:this.$inertia.form({_method:"PUT",name:this.client.name,lastname:this.client.lastname,doc_type:this.type_doc[this.id_doc],doc_num:this.client.data_user?this.client.data_user.doc_num:null,mobil:this.client.mobil,departament:this.departamentInit,city:this.cityInit,email:this.client.email,address:this.client.data_user?this.client.data_user.address:null})}},methods:{updateData(){this.form.post(route("admin.userUpdate",this.client.id),{errorBag:"admin.userUpdate",preserveScroll:!0})},refreshCity(){this.form.city="Seleccione"}},computed:{departamentSelected(){let e=this.form.departament,t=this.departaments,a=-1;return e?(typeof e=="object"?(e=this.form.departament.id,a=t.findIndex(l=>l.id===e)):a=t.findIndex(l=>l.name===e),a===-1?(t.unshift({id:0,name:"Seleccione"}),t[0]):t[a]):(t.unshift({id:0,name:"Seleccione"}),t[0])},citySelected(){let e=this.form.city,t=this.cities,a=-1;return e?(typeof e=="object"?(e=this.form.city.name,a=t.findIndex(l=>l.name===e.toLowerCase())):typeof e=="number"?a=t.findIndex(l=>l.id===e):a=t.findIndex(l=>l.name===e.toLowerCase()),a===-1?(t.unshift({id:0,name:"Seleccione"}),t[0]):t[a]):(t.unshift({id:0,name:"Seleccione"}),t[0])},citiesList(){let e=[],t=this.departamentSelected;return t.name!="Seleccione"?(this.cities.forEach(a=>{a.departament_id===t.id&&e.push(a)}),e):e.push({id:0,name:"Seleccione"})},verified(){return this.client.requirement_user.verified!=0}},watch:{"form.departament":"refreshCity"}}),D={class:"col-span-6 md:col-span-3"},L={class:"col-span-6 md:col-span-3"},N={class:"col-span-6 md:col-span-3"},E=h(" Tipo de documento "),F={class:"col-span-6 md:col-span-3"},T={class:"col-span-6 md:col-span-3"},A={class:"col-span-6 md:col-span-3"},P={class:"col-span-6 md:col-span-3"},R=h(" Departamento "),q={class:"col-span-6 md:col-span-3"},z=h(" Ciudad "),G={class:"col-span-6"},M={class:"col-span-6"},H=h(" Guardar ");function K(e,t,a,l,r,c){const m=f("jet-label"),d=f("jet-input"),n=f("jet-input-error"),u=f("jet-select"),y=f("jet-button"),p=f("jet-form");return $(),J(p,{onSubmitted:e.updateData},{form:_(()=>[i("div",D,[s(m,{for:"name",value:"Nombres"}),s(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.form.name=o)},null,8,["modelValue"]),s(n,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),i("div",L,[s(m,{for:"lastname",value:"Apellidos"}),s(d,{id:"lastname",type:"text",class:"mt-1 block w-full",modelValue:e.form.lastname,"onUpdate:modelValue":t[1]||(t[1]=o=>e.form.lastname=o)},null,8,["modelValue"]),s(n,{message:e.form.errors.lastname,class:"mt-2"},null,8,["message"])]),i("div",N,[s(u,{selectable:e.type_doc,selected:e.form.doc_type,modelValue:e.form.doc_type,"onUpdate:modelValue":t[2]||(t[2]=o=>e.form.doc_type=o)},{title:_(()=>[E]),_:1},8,["selectable","selected","modelValue"]),s(n,{message:e.form.errors.doc_type,class:"mt-2"},null,8,["message"])]),i("div",F,[s(m,{for:"doc_num",value:"N\xFAmero documento"}),s(d,{id:"doc_num",type:"number",class:"mt-1 block w-full",modelValue:e.form.doc_num,"onUpdate:modelValue":t[3]||(t[3]=o=>e.form.doc_num=o)},null,8,["modelValue"]),s(n,{message:e.form.errors.doc_num,class:"mt-2"},null,8,["message"])]),i("div",T,[s(m,{for:"mobil",value:"N\xFAmero documento"}),s(d,{id:"mobil",type:"number",class:"mt-1 block w-full",modelValue:e.form.mobil,"onUpdate:modelValue":t[4]||(t[4]=o=>e.form.mobil=o)},null,8,["modelValue"]),s(n,{message:e.form.errors.mobil,class:"mt-2"},null,8,["message"])]),i("div",A,[s(m,{for:"email",value:"Email"}),s(d,{readonly:"",disabled:"true",id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.form.email,"onUpdate:modelValue":t[5]||(t[5]=o=>e.form.email=o)},null,8,["modelValue"]),s(n,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])]),i("div",P,[s(u,{selectable:e.departaments,selected:e.departamentSelected,modelValue:e.form.departament,"onUpdate:modelValue":t[6]||(t[6]=o=>e.form.departament=o)},{title:_(()=>[R]),_:1},8,["selectable","selected","modelValue"]),s(n,{message:e.form.errors.departament,class:"mt-2"},null,8,["message"])]),i("div",q,[s(u,{selectable:e.citiesList,selected:e.citySelected,modelValue:e.form.city,"onUpdate:modelValue":t[7]||(t[7]=o=>e.form.city=o)},{title:_(()=>[z]),_:1},8,["selectable","selected","modelValue"]),s(n,{message:e.form.errors.city,class:"mt-2"},null,8,["message"])]),i("div",G,[s(m,{for:"address",value:"Direcci\xF3n"}),s(d,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:e.form.address,"onUpdate:modelValue":t[8]||(t[8]=o=>e.form.address=o)},null,8,["modelValue"]),s(n,{message:e.form.errors.address,class:"mt-2"},null,8,["message"])]),i("div",M,[s(y,{class:k([{"opacity-25":e.form.processing},"mt-2 ml-4 md:mx-auto"]),disabled:e.form.processing},{default:_(()=>[H]),_:1},8,["class","disabled"])])]),_:1},8,["onSubmitted"])}const me=U(B,[["render",K]]);export{me as default};
