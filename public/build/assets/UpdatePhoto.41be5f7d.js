import{i as P,j as a,o,c as b,w as l,a as t,d as s,m as r,v as i,M as k,t as p,b as c,k as f,n as y,h as u}from"./app.7999cf1f.js";import{_ as g}from"./Button.16f645a9.js";import{J as $}from"./Form.89db1bf4.js";import{_ as j}from"./Input.fba06755.js";import{_ as C}from"./InputError.3c8fe43a.js";import{_ as S}from"./Label.1bb1cfa0.js";import{_ as I}from"./ActionMessage.7ce5cbfa.js";import{_ as J}from"./SecondaryButton.6ad1e4b6.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";const N=P({components:{JetActionMessage:I,JetButton:g,JetForm:$,JetInput:j,JetInputError:C,JetLabel:S,JetSecondaryButton:J},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",picture:null}),url:location.origin,photoPreview:null}},methods:{updateProfileInformation(){this.$refs.picture&&(this.form.picture=this.$refs.picture.files[0]),this.form.post(route("users.picture"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()})},selectNewPhoto(){this.$refs.picture.click()},updatePhotoPreview(){const e=this.$refs.picture.files[0];if(!e)return;const n=new FileReader;n.onload=m=>{this.photoPreview=m.target.result},n.readAsDataURL(e)},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{this.photoPreview=null,this.clearPhotoFileInput()}})},clearPhotoFileInput(){var e;(e=this.$refs.picture)!=null&&e.value&&(this.$refs.picture.value=null,this.photoPreview=null)}}}),F={class:"col-span-6"},V={class:"flex flex-col md:flex-row items-center justify-between"},D={class:"flex items-center justify-start"},E={key:0},M={class:""},U=["src","alt"],x={key:1},z={class:"mt-2"},A=["src","alt"],L={class:"mt-2"},R={key:2,class:"flex flex-col ml-5"},T={class:"text-xl md:text-2xl text-black/75 font-semibold"},G={key:3,class:"flex flex-col ml-5"},q={class:"text-xl md:text-2xl text-black/75 font-semibold"},H={key:0,class:"text-black/50 font-medium"},K={key:1,class:"text-amber-500 font-medium"},O={class:"flex flex-row md:flex-col items-center justify-between"},Q=u(" Subir foto "),W=u(" Cambiar foto "),X=u(" Guardar ");function Y(e,n,m,Z,ee,te){const d=a("jet-secondary-button"),h=a("jet-button"),_=a("jet-input-error"),v=a("jet-form");return o(),b(v,{onSubmitted:e.updateProfileInformation},{form:l(()=>[t("div",F,[t("div",V,[t("div",D,[t("input",{type:"file",class:"hidden",ref:"picture",onChange:n[0]||(n[0]=(...w)=>e.updatePhotoPreview&&e.updatePhotoPreview(...w))},null,544),e.user.picture?(o(),s("div",E,[r(t("div",M,[t("img",{src:e.url+"/storage/"+e.user.picture,alt:e.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,U)],512),[[i,!e.photoPreview]])])):(o(),s("div",x,[r(t("div",z,[t("img",{src:e.user.profile_photo_url,alt:e.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,A)],512),[[i,!e.photoPreview]])])),r(t("div",L,[t("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:k("background-image: url('"+e.photoPreview+"');")},null,4)],512),[[i,e.photoPreview]]),e.user.data_user===null?(o(),s("div",R,[t("span",T,p(e.user.name+" "+e.user.lastname),1)])):(o(),s("div",G,[t("span",q,p(e.user.name+" "+e.user.lastname),1),e.user.data_user.vip==="no"?(o(),s("span",H,"Cuenta Est\xE1ndar")):(o(),s("span",K,"Cuenta VIP"))]))]),t("div",O,[r(c(d,{class:"mt-2 mx-auto",type:"button",onClick:f(e.selectNewPhoto,["prevent"])},{default:l(()=>[Q]),_:1},8,["onClick"]),[[i,!e.user.picture&&!e.photoPreview]]),r(c(d,{class:"mt-2 mx-auto",type:"button",onClick:f(e.selectNewPhoto,["prevent"])},{default:l(()=>[W]),_:1},8,["onClick"]),[[i,e.photoPreview||e.user.picture]]),r(c(h,{class:y([{"opacity-25":e.form.processing},"mt-2 ml-4 md:mx-auto"]),disabled:e.form.processing},{default:l(()=>[X]),_:1},8,["class","disabled"]),[[i,e.photoPreview]])])]),c(_,{message:e.form.errors.picture,class:"mt-2"},null,8,["message"])])]),_:1},8,["onSubmitted"])}const me=B(N,[["render",Y]]);export{me as default};
