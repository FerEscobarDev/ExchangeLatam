import{i as P,j as c,o as s,c as D,w as a,L as U,a as t,b as l,t as n,n as h,d as o,e as m,m as y,v as L,N as T,k as p,O as V,h as r}from"./app.8677420d.js";import{A as E}from"./AppLayoutAdmin.979e8156.js";import{_ as M}from"./DialogModal.eb6355a6.js";import{_ as z}from"./Button.8a46fbb0.js";import{_ as F}from"./SecondaryButton.6caf7ba9.js";import{_ as A}from"./DangerButton.78149aa3.js";import{_ as B}from"./InputError.30e67f69.js";import{J as R}from"./Select.9237fb35.js";import{_ as I}from"./Label.94c293f6.js";import{_ as N}from"./ConfirmationModal.d05a9db0.js";import{l as J,F as O}from"./index.es.13188a0e.js";import{j as W}from"./index.es.4d3c31b3.js";import{d as q}from"./dayjs.min.e093bf75.js";import{_ as Y}from"./_plugin-vue_export-helper.cdc0426e.js";import"./NavLink.ec8831f3.js";import"./Modal.a6eac4dd.js";import"./use-resolve-button-type.01d4266c.js";import"./open-closed.2b5869e6.js";import"./hidden.6f6747aa.js";import"./CheckIcon.77577d78.js";import"./logoweb.554f3f4d.js";J.add(W);const G=P({components:{AppLayoutAdmin:E,Link:U,JetDialogModal:M,JetSecondaryButton:F,JetButton:z,DangerButton:A,FontAwesomeIcon:O,InputError:B,Select:R,Label:I,ConfirmationModal:N},props:{transaction:Object,voucher:String},setup(e){return{status:[{id:1,name:"Pendiente"},{id:2,name:"Realizado"},{id:3,name:"Cancelado"},{id:4,name:"Procesando"}]}},data(){return{voucherShow:!1,voucherExist:this.voucher===null,form:this.$inertia.form({_method:"PUT",voucherUp:null}),formStatus:this.$inertia.form({_method:"PUT",status:this.status[0],comments:null}),formDelete:this.$inertia.form({_method:"delete"}),voucherPreview:null,statusChange:!1,delete:!1}},methods:{dateFormat(e){let i=q(e,"YYYY-MM-DD");const u=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];return i.$D+"-"+u[i.$M]+"-"+i.$y},showVoucher(){this.voucherShow=!0},closeModal(){this.voucherShow=!1},changeStatus(){this.statusChange?this.statusChange=!1:this.statusChange=!0},deleteTransaction(){this.delete?this.delete=!1:this.delete=!0},submit(){this.$refs.voucherUp&&(this.form.voucherUp=this.$refs.voucherUp.files[0]),this.form.post(this.route("admin.voucherUpWalletExchange",this.transaction.id),{onSuccess:()=>this.clearFileInput()})},submitDelete(){this.formDelete.post(this.route("admin.destroyWalletExchange",this.transaction.id))},submitStatus(){this.formStatus.post(this.route("admin.statusWalletExchange",this.transaction.id),{onSuccess:()=>this.changeStatus()})},selectFile(){this.$refs.voucherUp.click()},updateVoucherPreview(){const e=this.$refs.voucherUp.files[0];if(this.voucher,!e)return;const i=new FileReader;i.onload=u=>{this.voucherPreview=u.target.result},i.readAsDataURL(e)},clearFileInput(){var e;(e=this.$refs.voucherUp)!=null&&e.value&&(this.$refs.voucherUp.value=null,this.voucherExist=!1,this.voucherPreview=null)},transactionType(e){if(e.type===0)return"Retiro";if(e.type===1)return"Dep\xF3sito";if(e.type===2)return"Compra de saldo";if(e.type===3)return"Venta de saldo"}}}),H={class:"font-semibold text-xl text-gray-700 leading-tight"},K=r("Dashboard/"),Q=r("Perfil del Usuario/"),X=r("Vista Detallada "),Z={class:"py-6 w-full"},tt={class:"flex mx-auto lg:mr-4"},et={class:"container mx-auto sm:px-6 lg:px-8"},st={class:"bg-white shadow-xl sm:rounded-lg flex flex-col"},ot={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 mt-5 h-min"},at={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center"},nt=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"}," Detalles de la transacci\xF3n ",-1),it={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},lt={class:"flex justify-between items-center w-full"},rt=t("span",{class:"text-sm text-gray-600 mr-2"},"Cliente: ",-1),dt={class:"text-md font-semibold text-dark-brand"},ct={class:"flex justify-between items-center w-full"},mt=t("span",{class:"text-sm text-gray-600 mr-2"},"Tipo: ",-1),ut={class:"text-sm font-semibold"},ft={class:"flex justify-between items-center w-full"},_t=t("span",{class:"text-sm text-gray-600 mr-2"},"Wallet: ",-1),ht={class:"flex justify-between items-center w-full"},pt=t("span",{class:"text-sm text-gray-600 mr-2"},"Cuenta: ",-1),bt={class:"text-sm font-semibold text-dark-brand"},xt={class:"flex justify-between items-center w-full"},gt=t("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de solicitud: ",-1),yt={class:"text-sm font-semibold text-dark-brand"},wt={key:0,class:"flex justify-between items-center w-full"},vt=t("span",{class:"text-sm text-gray-600 mr-2"},"Fecha de finalizaci\xF3n: ",-1),kt={class:"text-sm font-semibold text-dark-brand"},Ct={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center mt-5 md:mt-0"},St={key:0,class:"text-lg text-dark-brand font-semibold mb-2"},jt={class:"rounded-lg text-dark-brand w-80 flex flex-col items-start"},$t={class:"flex items-center w-full"},Pt={class:"text-sm text-gray-600 font-semibold"},Dt=t("hr",{scope:"",class:"mx-auto w-4/5 border-0 h-[0.5px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),Ut={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},Lt={class:"col-span-6 md:col-span-3 flex flex-col justify-between items-center"},Tt=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Detalles de pago",-1),Vt={class:"rounded-lg text-dark-brand w-80 flex flex-col items-center pb-3"},Et={key:0,class:"flex justify-between items-center w-full"},Mt=t("span",{class:"text-sm text-gray-600 mr-1"},"Confirma que el cliente haya realizado el pago a la cuenta bancaria:",-1),zt=[Mt],Ft={key:1,class:"flex justify-between items-center w-full"},At=t("span",{class:"text-sm text-gray-600 mr-1"},"Confirma que el cliente haya realizado el pago a la cuenta Skrill:",-1),Bt=[At],Rt={key:0,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},It={key:0,class:"flex"},Nt=t("span",{class:"text-sm text-gray-600 mr-1"},"Gerente: ",-1),Jt=t("span",{class:"text-sm font-semibold text-dark-brand"},"Fernando Escobar Bermudez",-1),Ot=[Nt,Jt],Wt={key:1,class:"font-semibold"},qt={key:2,class:"flex"},Yt=t("span",{class:"text-sm text-gray-600 mr-1"},"C\xE9dula: ",-1),Gt=t("span",{class:"text-sm font-semibold text-dark-brand"},"1.111.198.204",-1),Ht=[Yt,Gt],Kt={key:3,class:"flex"},Qt=t("span",{class:"text-sm text-gray-600 mr-1"},"NIT: ",-1),Xt=t("span",{class:"text-sm font-semibold text-dark-brand"},"901.422.406",-1),Zt=[Qt,Xt],te={class:"flex"},ee=t("span",{class:"text-sm text-gray-600 mr-1"},"Banco: ",-1),se={class:"text-sm font-semibold text-dark-brand"},oe={class:"flex"},ae=t("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: ",-1),ne={class:"text-sm font-semibold text-dark-brand"},ie={class:"flex mb-2"},le=t("span",{class:"text-sm text-gray-600 mr-1"},"Tipo de Cuenta: ",-1),re={class:"text-sm font-semibold text-dark-brand"},de={key:4,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},ce={key:5,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-700 mx-auto"},me={key:6,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-red-700 mx-auto"},ue={key:7,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-600 mx-auto"},fe={key:1,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start"},_e=t("span",{class:"flex"},[t("span",{class:"text-sm text-gray-600 mr-1"},"Wallet: "),t("span",{class:"text-sm font-semibold text-dark-brand"},"Skrill")],-1),he=t("span",{class:"flex"},[t("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: "),t("span",{class:"text-sm font-semibold text-dark-brand"},"admin@exchangelatam.com")],-1),pe=[_e,he],be={key:2,class:"rounded-lg bg-slate-200 text-dark-brand p-4 w-80 flex flex-col items-start mt-4"},xe={key:0,class:"flex"},ge=t("span",{class:"text-sm text-gray-600 mr-1"},"Realiza el pago a esta cuenta bancaria:",-1),ye=[ge],we={class:"flex"},ve=t("span",{class:"text-sm text-gray-600 mr-1"},"Banco: ",-1),ke={class:"text-sm font-semibold text-dark-brand"},Ce={class:"flex"},Se=t("span",{class:"text-sm text-gray-600 mr-1"},"Cuenta: ",-1),je={class:"text-sm font-semibold text-dark-brand"},$e={class:"flex mb-2"},Pe=t("span",{class:"text-sm text-gray-600 mr-1"},"Tipo de Cuenta: ",-1),De={class:"text-sm font-semibold text-dark-brand"},Ue={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 mx-auto"},Le={key:2,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-700 mx-auto"},Te={key:3,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-red-700 mx-auto"},Ve={key:4,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-600 mx-auto"},Ee={key:3,class:"flex flex-col justify-between items-center mt-5"},Me=r(" Ver Comprobante "),ze=r(" Comprobante de transferencia "),Fe=["src"],Ae=r(" Cerrar "),Be={key:4,class:"mt-5"},Re={class:"mb-4"},Ie={key:0,class:"block rounded-lg w-full sm:w-auto mx-auto text-gray-500 text-sm text-center"},Ne=r(),Je={key:0},Oe={key:1},We=r(" Enviar "),qe={class:"col-span-6 md:col-span-3 flex flex-col justify-start items-center mt-5 md:mt-0"},Ye=t("h2",{class:"text-lg text-dark-brand font-semibold mb-2"},"Resumen de la transacci\xF3n",-1),Ge={class:"rounded-lg text-dark-brand w-80 flex flex-col items-center"},He={class:"flex justify-between items-center w-full"},Ke=t("span",{class:"text-sm text-gray-600 mr-1"},"Monto USD: ",-1),Qe={class:"font-semibold text-dark-brand"},Xe={class:"flex justify-between items-center w-full"},Ze=t("span",{class:"text-sm text-gray-600 mr-1"},"Monto COP: ",-1),ts={class:"font-semibold text-dark-brand"},es={class:"flex justify-between items-center w-full"},ss=t("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto 4x1000: ",-1),os={class:"font-semibold text-dark-brand"},as={class:"flex justify-between items-center w-full"},ns=t("span",{class:"text-sm text-gray-600 mr-1"},"Comisi\xF3n: ",-1),is={class:"font-semibold text-dark-brand"},ls={class:"flex justify-between items-center w-full"},rs=t("span",{class:"text-sm text-gray-600 mr-1"},"Impuesto IVA: ",-1),ds={class:"font-semibold text-dark-brand"},cs={class:"flex justify-between items-center w-full"},ms=t("span",{class:"text-sm text-gray-600 mr-1"},"Descuento VIP: ",-1),us={class:"font-semibold text-dark-brand"},fs=t("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-5"},null,-1),_s={class:"flex justify-between items-center w-full"},hs=t("span",{class:"text-base text-dark-brand mr-1"},"Total a pagar COP: ",-1),ps={class:"font-semibold text-dark-brand"},bs=t("div",{class:"mx-auto w-4/5 border-0 h-[1px] bg-gradient-to-r from-slate-300 via-blue-brand to-slate-300 my-2"},null,-1),xs={class:"grid grid-cols-6 p-4 mx-auto w-full xl:w-4/5 h-min"},gs={class:"col-span-3 flex flex-col justify-between items-center mb-5"},ys=r(" Cambiar estado "),ws=r(" Cambiar estado de la transacci\xF3n "),vs={class:"my-2"},ks=r(" Cambio de estado "),Cs={class:"my-2 mt-3"},Ss={class:"w-full"},js=r(" Cambiar "),$s=r(" Cerrar "),Ps={class:"col-span-3 flex flex-col justify-between items-center mb-5"},Ds=r(" Eliminar "),Us=r(" Eliminar transacci\xF3n "),Ls=r(" \xBFSeguro que quieres eliminar esta transacci\xF3n? "),Ts=r(" Eliminar "),Vs=r(" Cerrar ");function Es(e,i,u,w,Ms,zs){const b=c("Link"),f=c("jet-button"),_=c("jet-secondary-button"),x=c("jet-dialog-modal"),v=c("font-awesome-icon"),k=c("input-error"),C=c("Select"),S=c("Label"),g=c("DangerButton"),j=c("ConfirmationModal"),$=c("AppLayoutAdmin");return s(),D($,{title:"Detalle del dep\xF3sito"},{header:a(()=>[t("h2",H,[l(b,{href:e.route("admin.dashboard"),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:a(()=>[K]),_:1},8,["href"]),l(b,{href:e.route("admin.userShow",e.transaction.user_id),class:"text-blue-brand-gradient1 font-semibold hover:text-blue-brand"},{default:a(()=>[Q]),_:1},8,["href"]),X])]),default:a(()=>[t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("div",ot,[t("div",at,[nt,t("div",it,[t("span",lt,[rt,t("span",dt,n(e.transaction.user.name+" "+e.transaction.user.lastname),1)]),t("span",ct,[mt,t("span",ut,n(e.transactionType(e.transaction)),1)]),t("span",ft,[_t,t("span",{class:h([{"text-rose-800":e.transaction.transactionable.wallet.id===1,"text-green-500":e.transaction.transactionable.wallet.id===2},"text-sm font-semibold"])},n(e.transaction.transactionable.wallet.name),3)]),t("span",ht,[pt,t("span",bt,n(e.transaction.transactionable.email),1)]),t("span",xt,[gt,t("span",yt,n(e.dateFormat(e.transaction.application_date)),1)]),e.transaction.completed_date?(s(),o("span",wt,[vt,t("span",kt,n(e.dateFormat(e.transaction.completed_date)),1)])):m("",!0)])]),t("div",Ct,[e.transaction.comment?(s(),o("h2",St,"Comentarios")):m("",!0),t("div",jt,[t("span",$t,[t("span",Pt,n(e.transaction.comment),1)])])])]),Dt,t("div",Ut,[t("div",Lt,[Tt,t("div",Vt,[e.transaction.type===2?(s(),o("span",Et,zt)):(s(),o("span",Ft,Bt))]),e.transaction.type===2?(s(),o("div",Rt,[e.transaction.account_id!==3?(s(),o("span",It,Ot)):(s(),o("span",Wt,"ExchangeLatam SAS")),e.transaction.account_id!==3?(s(),o("span",qt,Ht)):(s(),o("span",Kt,Zt)),t("span",te,[ee,t("span",se,n(e.transaction.account.bank.name),1)]),t("span",oe,[ae,t("span",ne,n(e.transaction.account.number),1)]),t("span",ie,[le,t("span",re,n(e.transaction.account.type),1)]),e.transaction.status==="Realizado"?(s(),o("span",de," Transacci\xF3n Realizada ")):e.transaction.status==="Pendiente"?(s(),o("span",ce," Pago Pendiente ")):e.transaction.status==="Cancelado"?(s(),o("span",me," Transacci\xF3n Rechazada ")):e.transaction.status==="Procesando"?(s(),o("span",ue," Procesando... ")):m("",!0)])):(s(),o("div",fe,pe)),e.transaction.type===3?(s(),o("div",be,[e.transaction.account_id!==3?(s(),o("span",xe,ye)):m("",!0),t("span",we,[ve,t("span",ke,n(e.transaction.account.bank.name),1)]),t("span",Ce,[Se,t("span",je,n(e.transaction.account.number),1)]),t("span",$e,[Pe,t("span",De,n(e.transaction.account.type),1)]),e.transaction.status==="Realizado"?(s(),o("span",Ue," Transacci\xF3n Realizada ")):e.transaction.status==="Pendiente"?(s(),o("span",Le," Pago Pendiente ")):e.transaction.status==="Cancelado"?(s(),o("span",Te," Transacci\xF3n Rechazada ")):e.transaction.status==="Procesando"?(s(),o("span",Ve," Procesando... ")):m("",!0)])):m("",!0),e.voucherExist?(s(),o("div",Be,[y(t("div",Re,[t("span",{class:"block rounded-lg w-32 h-36 bg-cover bg-no-repeat bg-center mx-auto",style:T("background-image: url('"+e.voucherPreview+"');")},null,4),e.voucherPreview?(s(),o("span",Ie,n(e.$refs.voucherUp.files[0].name),1)):m("",!0)],512),[[L,e.voucherPreview]]),t("form",{onSubmit:i[1]||(i[1]=p((...d)=>e.submit&&e.submit(...d),["prevent"])),class:"flex flex-col justify-between items-center"},[t("input",{type:"file",class:"hidden",ref:"voucherUp",onChange:i[0]||(i[0]=(...d)=>e.updateVoucherPreview&&e.updateVoucherPreview(...d))},null,544),l(_,{onClick:p(e.selectFile,["prevent"]),class:"mx-auto mb-4"},{default:a(()=>[l(v,{class:"mr-2",icon:["fas","upload"],size:"sm"}),Ne,e.voucherPreview?(s(),o("span",Je,"Cambiar")):(s(),o("span",Oe,"Seleccione archivo"))]),_:1},8,["onClick"]),l(f,{class:h({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:a(()=>[We]),_:1},8,["class","disabled"])],32),l(k,{message:e.form.errors.voucherUp,class:"mt-2"},null,8,["message"])])):(s(),o("div",Ee,[l(f,{onClick:e.showVoucher,class:"mx-auto",disabled:e.voucherExist},{default:a(()=>[Me]),_:1},8,["onClick","disabled"]),l(x,{show:e.voucherShow,onClose:e.closeModal},{title:a(()=>[ze]),content:a(()=>[t("img",{src:e.voucher,alt:"No se pudo cargar el comprobante"},null,8,Fe)]),footer:a(()=>[l(_,{onClick:e.closeModal},{default:a(()=>[Ae]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]))]),t("div",qe,[Ye,t("div",Ge,[t("span",He,[Ke,t("span",Qe,"$ "+n(e.transaction.amount_usd.toLocaleString()),1)]),t("span",Xe,[Ze,t("span",ts,"$ "+n(e.transaction.amount_cop.toLocaleString()),1)]),t("span",es,[ss,t("span",os,"$ "+n(e.transaction.cuatro_por_mil.toLocaleString()),1)]),t("span",as,[ns,t("span",is,"$ "+n(e.transaction.comission.toLocaleString()),1)]),t("span",ls,[rs,t("span",ds,"$ "+n(e.transaction.iva.toLocaleString()),1)]),t("span",cs,[ms,t("span",us,"$ "+n(e.transaction.rebate.toLocaleString()),1)]),fs,t("span",_s,[hs,t("span",ps,"$ "+n(e.transaction.total.toLocaleString()),1)])])])]),bs,t("div",xs,[t("div",gs,[l(f,{onClick:e.changeStatus,class:"mx-auto"},{default:a(()=>[ys]),_:1},8,["onClick"]),l(x,{show:e.statusChange,onClose:e.changeStatus},{title:a(()=>[ws]),content:a(()=>[t("form",{onSubmit:i[4]||(i[4]=p((...d)=>e.submitStatus&&e.submitStatus(...d),["prevent"]))},[t("div",vs,[l(C,{selectable:e.status,selected:e.formStatus.status,modelValue:e.formStatus.status,"onUpdate:modelValue":i[2]||(i[2]=d=>e.formStatus.status=d)},{title:a(()=>[ks]),_:1},8,["selectable","selected","modelValue"])]),t("div",Cs,[l(S,{for:"comments",value:"Comentarios"}),y(t("textarea",{class:"w-full text-gray-600 border-dark-brand focus:border-blue-brand focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",name:"comments",id:"comments",rows:"2",placeholder:"Escribe un comentario","onUpdate:modelValue":i[3]||(i[3]=d=>e.formStatus.comments=d)},null,512),[[V,e.formStatus.comments]])]),t("div",Ss,[l(f,{class:h([{"opacity-25":e.formStatus.processing},"mr-4 mx-auto"]),disabled:e.formStatus.processing},{default:a(()=>[js]),_:1},8,["class","disabled"])])],32)]),footer:a(()=>[l(_,{onClick:e.changeStatus},{default:a(()=>[$s]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])]),t("div",Ps,[l(g,{onClick:e.deleteTransaction,class:"mx-auto"},{default:a(()=>[Ds]),_:1},8,["onClick"]),l(j,{show:e.delete,onClose:e.deleteTransaction},{title:a(()=>[Us]),content:a(()=>[Ls]),footer:a(()=>[t("form",{onSubmit:i[5]||(i[5]=p((...d)=>e.submitDelete&&e.submitDelete(...d),["prevent"])),class:"mr-4"},[l(g,{class:h({"opacity-25":e.formDelete.processing}),disabled:e.formDelete.processing},{default:a(()=>[Ts]),_:1},8,["class","disabled"])],32),l(_,{onClick:e.deleteTransaction},{default:a(()=>[Vs]),_:1},8,["onClick"])]),_:1},8,["show","onClose"])])])])])])])]),_:1})}const ao=Y(G,[["render",Es]]);export{ao as default};
