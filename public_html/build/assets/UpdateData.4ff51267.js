import{_ as b}from"./Button.7c0eb07a.js";import{J as V}from"./Form.706caf30.js";import{_ as v}from"./Input.abf6da2c.js";import{_ as g}from"./InputError.8256dbbe.js";import{_ as S}from"./Label.df795eef.js";import{_ as j}from"./ActionMessage.78c0b73e.js";import{_ as I}from"./SecondaryButton.67541768.js";import{J as C}from"./Select.ca52b0fa.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";import{i as U,j as f,o as $,c as J,w as _,a as m,b as s,n as k,h as y}from"./app.93eb8b98.js";import"./use-resolve-button-type.b8b4dd01.js";import"./open-closed.33a88d0b.js";import"./hidden.36bee67a.js";import"./CheckIcon.caeee056.js";const B=U({components:{JetActionMessage:j,JetButton:b,JetForm:V,JetInput:v,JetInputError:g,JetLabel:S,JetSecondaryButton:I,JetSelect:C},props:["user","departaments","cities"],setup(e){let t=[{id:1,name:"C\xE9dula de Ciudadan\xEDa"},{id:2,name:"C\xE9dula de Extranjer\xEDa"},{id:3,name:"Pasaporte"}],a=0,o=null,d=null;e.user.data_user&&(a=e.user.data_user.doc_type,o=e.user.data_user.departament,d=e.user.data_user.city),a===0?t.unshift({id:0,name:"Seleccione",valid:"false"}):a=parseInt(e.user.data_user.doc_type-1);let u=e.departaments,n=-1;o?(n=u.findIndex(p=>p.name===o),n===-1?(u.unshift({id:0,name:"Seleccione"}),o=u[0]):o=u[n]):(u.unshift({id:0,name:"Seleccione"}),o=u[0]);const i=o;let r=e.cities,c=-1;return d?(c=r.findIndex(p=>p.name===d.toLowerCase()),c===-1?(r.unshift({id:0,name:"Seleccione"}),d=r[0]):d=r[c]):(r.unshift({id:0,name:"Seleccione"}),d=r[0]),{departamentInit:i,cityInit:d,type_doc:t,id_doc:a}},data(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,lastname:this.user.lastname,doc_type:this.type_doc[this.id_doc],doc_num:this.user.data_user?this.user.data_user.doc_num:null,mobil:this.user.mobil,departament:this.departamentInit,city:this.cityInit,email:this.user.email,address:this.user.data_user?this.user.data_user.address:null})}},methods:{updateData(){this.form.post(route("user.update"),{errorBag:"user.update",preserveScroll:!0})},refreshCity(){this.form.city="Seleccione"}},computed:{departamentSelected(){let e=this.form.departament,t=this.departaments,a=-1;return e?(typeof e=="object"?(e=this.form.departament.id,a=t.findIndex(o=>o.id===e)):a=t.findIndex(o=>o.name===e),a===-1?(t.unshift({id:0,name:"Seleccione"}),t[0]):t[a]):(t.unshift({id:0,name:"Seleccione"}),t[0])},citySelected(){let e=this.form.city,t=this.cities,a=-1;return e?(typeof e=="object"?(e=this.form.city.name,a=t.findIndex(o=>o.name===e.toLowerCase())):typeof e=="number"?a=t.findIndex(o=>o.id===e):a=t.findIndex(o=>o.name===e.toLowerCase()),a===-1?(t.unshift({id:0,name:"Seleccione"}),t[0]):t[a]):(t.unshift({id:0,name:"Seleccione"}),t[0])},citiesList(){let e=[],t=this.departamentSelected;return t.name!="Seleccione"?(this.cities.forEach(a=>{a.departament_id===t.id&&e.push(a)}),e):e.push({id:0,name:"Seleccione"})},verified(){return this.user.requirement_user.verified!=0}},watch:{"form.departament":"refreshCity"}}),D={class:"col-span-6 md:col-span-3"},L={class:"col-span-6 md:col-span-3"},N={class:"col-span-6 md:col-span-3"},E=y(" Tipo de documento "),F={class:"col-span-6 md:col-span-3"},T={class:"col-span-6 md:col-span-3"},A={class:"col-span-6 md:col-span-3"},P={class:"col-span-6 md:col-span-3"},R=y(" Departamento "),q={class:"col-span-6 md:col-span-3"},z=y(" Ciudad "),G={class:"col-span-6"},M={class:"col-span-6"},H=y(" Guardar ");function K(e,t,a,o,d,u){const n=f("jet-label"),i=f("jet-input"),r=f("jet-input-error"),c=f("jet-select"),h=f("jet-button"),p=f("jet-form");return $(),J(p,{onSubmitted:e.updateData},{form:_(()=>[m("div",D,[s(n,{for:"name",value:"Nombres"}),s(i,{readonly:e.verified,id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.form.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.form.name=l)},null,8,["readonly","modelValue"]),s(r,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),m("div",L,[s(n,{for:"lastname",value:"Apellidos"}),s(i,{readonly:e.verified,id:"lastname",type:"text",class:"mt-1 block w-full",modelValue:e.form.lastname,"onUpdate:modelValue":t[1]||(t[1]=l=>e.form.lastname=l)},null,8,["readonly","modelValue"]),s(r,{message:e.form.errors.lastname,class:"mt-2"},null,8,["message"])]),m("div",N,[s(c,{disabled:e.verified,selectable:e.type_doc,selected:e.form.doc_type,modelValue:e.form.doc_type,"onUpdate:modelValue":t[2]||(t[2]=l=>e.form.doc_type=l)},{title:_(()=>[E]),_:1},8,["disabled","selectable","selected","modelValue"]),s(r,{message:e.form.errors.doc_type,class:"mt-2"},null,8,["message"])]),m("div",F,[s(n,{for:"doc_num",value:"N\xFAmero documento"}),s(i,{readonly:e.verified,id:"doc_num",type:"number",class:"mt-1 block w-full",modelValue:e.form.doc_num,"onUpdate:modelValue":t[3]||(t[3]=l=>e.form.doc_num=l)},null,8,["readonly","modelValue"]),s(r,{message:e.form.errors.doc_num,class:"mt-2"},null,8,["message"])]),m("div",T,[s(n,{for:"mobil",value:"N\xFAmero documento"}),s(i,{id:"mobil",type:"number",class:"mt-1 block w-full",modelValue:e.form.mobil,"onUpdate:modelValue":t[4]||(t[4]=l=>e.form.mobil=l)},null,8,["modelValue"]),s(r,{message:e.form.errors.mobil,class:"mt-2"},null,8,["message"])]),m("div",A,[s(n,{for:"email",value:"Email"}),s(i,{readonly:"",disabled:"true",id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.form.email,"onUpdate:modelValue":t[5]||(t[5]=l=>e.form.email=l)},null,8,["modelValue"]),s(r,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])]),m("div",P,[s(c,{selectable:e.departaments,selected:e.departamentSelected,modelValue:e.form.departament,"onUpdate:modelValue":t[6]||(t[6]=l=>e.form.departament=l)},{title:_(()=>[R]),_:1},8,["selectable","selected","modelValue"]),s(r,{message:e.form.errors.departament,class:"mt-2"},null,8,["message"])]),m("div",q,[s(c,{selectable:e.citiesList,selected:e.citySelected,modelValue:e.form.city,"onUpdate:modelValue":t[7]||(t[7]=l=>e.form.city=l)},{title:_(()=>[z]),_:1},8,["selectable","selected","modelValue"]),s(r,{message:e.form.errors.city,class:"mt-2"},null,8,["message"])]),m("div",G,[s(n,{for:"address",value:"Direcci\xF3n"}),s(i,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:e.form.address,"onUpdate:modelValue":t[8]||(t[8]=l=>e.form.address=l)},null,8,["modelValue"]),s(r,{message:e.form.errors.address,class:"mt-2"},null,8,["message"])]),m("div",M,[s(h,{class:k([{"opacity-25":e.form.processing},"mt-2 ml-4 md:mx-auto"]),disabled:e.form.processing},{default:_(()=>[H]),_:1},8,["class","disabled"])])]),_:1},8,["onSubmitted"])}const ne=w(B,[["render",K]]);export{ne as default};
