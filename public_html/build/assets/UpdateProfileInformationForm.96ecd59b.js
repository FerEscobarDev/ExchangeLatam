import{i as $,j as n,o as u,c as f,w as s,d as j,a,b as o,m as h,v as _,N as y,k as v,e as P,n as k,h as l}from"./app.93eb8b98.js";import{_ as S}from"./Button.7c0eb07a.js";import{_ as V}from"./FormSection.126875af.js";import{_ as C}from"./Input.abf6da2c.js";import{_ as I}from"./InputError.8256dbbe.js";import{_ as N}from"./Label.df795eef.js";import{_ as B}from"./ActionMessage.78c0b73e.js";import{_ as J}from"./SecondaryButton.67541768.js";import{_ as U}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SectionTitle.cb3bd96f.js";const F=$({components:{JetActionMessage:B,JetButton:S,JetFormSection:V,JetInput:C,JetInputError:I,JetLabel:N,JetSecondaryButton:J},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,lastname:this.user.lastname,mobil:this.user.mobil,email:this.user.email,photo:null}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>this.clearPhotoFileInput()})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const e=this.$refs.photo.files[0];if(!e)return;const t=new FileReader;t.onload=c=>{this.photoPreview=c.target.result},t.readAsDataURL(e)},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{this.photoPreview=null,this.clearPhotoFileInput()}})},clearPhotoFileInput(){var e;(e=this.$refs.photo)!=null&&e.value&&(this.$refs.photo.value=null)}}}),A=l(" Informaci\xF3n personal "),E=l(" Update your account's profile information and email address. "),R={key:0,class:"col-span-6 sm:col-span-4"},z={class:"mt-2"},D=["src","alt"],L={class:"mt-2"},M=l(" Select A New Photo "),T=l(" Remove Photo "),q={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},H={class:"col-span-6 sm:col-span-4"},K=l(" Saved. "),O=l(" Save ");function Q(e,t,c,W,X,Y){const i=n("jet-label"),d=n("jet-secondary-button"),m=n("jet-input-error"),p=n("jet-input"),b=n("jet-action-message"),g=n("jet-button"),w=n("jet-form-section");return u(),f(w,{onSubmitted:e.updateProfileInformation},{title:s(()=>[A]),description:s(()=>[E]),form:s(()=>[e.$page.props.jetstream.managesProfilePhotos?(u(),j("div",R,[a("input",{type:"file",class:"hidden",ref:"photo",onChange:t[0]||(t[0]=(...r)=>e.updatePhotoPreview&&e.updatePhotoPreview(...r))},null,544),o(i,{for:"photo",value:"Photo"}),h(a("div",z,[a("img",{src:e.user.profile_photo_url,alt:e.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,D)],512),[[_,!e.photoPreview]]),h(a("div",L,[a("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:y("background-image: url('"+e.photoPreview+"');")},null,4)],512),[[_,e.photoPreview]]),o(d,{class:"mt-2 mr-2",type:"button",onClick:v(e.selectNewPhoto,["prevent"])},{default:s(()=>[M]),_:1},8,["onClick"]),e.user.profile_photo_path?(u(),f(d,{key:0,type:"button",class:"mt-2",onClick:v(e.deletePhoto,["prevent"])},{default:s(()=>[T]),_:1},8,["onClick"])):P("",!0),o(m,{message:e.form.errors.photo,class:"mt-2"},null,8,["message"])])):P("",!0),a("div",q,[o(i,{for:"name",value:"Nombres"}),o(p,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=r=>e.form.name=r)},null,8,["modelValue"]),o(m,{message:e.form.errors.name,class:"mt-2"},null,8,["message"])]),a("div",G,[o(i,{for:"lastname",value:"Apellidos"}),o(p,{id:"lastname",type:"text",class:"mt-1 block w-full",modelValue:e.form.lastname,"onUpdate:modelValue":t[2]||(t[2]=r=>e.form.lastname=r)},null,8,["modelValue"]),o(m,{message:e.form.errors.lastname,class:"mt-2"},null,8,["message"])]),a("div",H,[o(i,{for:"email",value:"Email"}),o(p,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e.form.email,"onUpdate:modelValue":t[3]||(t[3]=r=>e.form.email=r)},null,8,["modelValue"]),o(m,{message:e.form.errors.email,class:"mt-2"},null,8,["message"])])]),actions:s(()=>[o(b,{on:e.form.recentlySuccessful,class:"mr-3"},{default:s(()=>[K]),_:1},8,["on"]),o(g,{class:k({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:s(()=>[O]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}const ie=U(F,[["render",Q]]);export{ie as default};
